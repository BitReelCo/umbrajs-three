{"version":3,"file":"umbrajs-three.esm.min.js","sources":["../node_modules/@umbra3d/umbrajs/dist/umbra.esm.js","../src/ThreeFormats.ts","../src/ShaderPatcher.ts","../src/ObjectPool.ts","../src/Scene.ts","../src/Loader.ts","../src/index.ts"],"sourcesContent":["function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar UmbraNativeAPI = function () {\n  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;\n\n  return function (UmbraNativeAPI) {\n    UmbraNativeAPI = UmbraNativeAPI || {};\n    var c;\n    c || (c = typeof UmbraNativeAPI !== 'undefined' ? UmbraNativeAPI : {});\n    var aa = {},\n        p;\n\n    for (p in c) {\n      c.hasOwnProperty(p) && (aa[p] = c[p]);\n    }\n\n    c.arguments = [];\n    c.thisProgram = \"./this.program\";\n\n    c.quit = function (a, b) {\n      throw b;\n    };\n\n    c.preRun = [];\n    c.postRun = [];\n    var u = \"\";\n    document.currentScript && (u = document.currentScript.src);\n    _scriptDir && (u = _scriptDir);\n    0 !== u.indexOf(\"blob:\") ? u = u.substr(0, u.lastIndexOf(\"/\") + 1) : u = \"\";\n    var ba = c.print || (\"undefined\" !== typeof console ? console.log.bind(console) : \"undefined\" !== typeof print ? print : null),\n        v = c.printErr || (\"undefined\" !== typeof printErr ? printErr : \"undefined\" !== typeof console && console.warn.bind(console) || ba);\n\n    for (p in aa) {\n      aa.hasOwnProperty(p) && (c[p] = aa[p]);\n    }\n\n    aa = void 0;\n\n    function ca(a) {\n      da || (da = {});\n      da[a] || (da[a] = 1, v(a));\n    }\n\n    var da,\n        ea = {\n      \"f64-rem\": function f64Rem(a, b) {\n        return a % b;\n      },\n      \"debugger\": function _debugger() {\n        debugger;\n      }\n    };\n    \"object\" !== (typeof WebAssembly === \"undefined\" ? \"undefined\" : _typeof(WebAssembly)) && v(\"no native wasm support detected\");\n    var w,\n        x = !1;\n\n    function fa(a, b) {\n      a || z(\"Assertion failed: \" + b);\n    }\n\n    function ha(a) {\n      var b = c[\"_\" + a];\n      fa(b, \"Cannot call unknown function \" + a + \", make sure it is exported\");\n      return b;\n    }\n\n    function ia(a, b, d, e) {\n      var f = {\n        string: function string(a) {\n          var b = 0;\n\n          if (null !== a && void 0 !== a && 0 !== a) {\n            var d = (a.length << 2) + 1;\n            b = ja(d);\n            ka(a, b, d);\n          }\n\n          return b;\n        },\n        array: function array(a) {\n          var b = ja(a.length);\n          A.set(a, b);\n          return b;\n        }\n      },\n          g = ha(a),\n          k = [];\n      a = 0;\n      if (e) for (var h = 0; h < e.length; h++) {\n        var l = f[d[h]];\n        l ? (0 === a && (a = la()), k[h] = l(e[h])) : k[h] = e[h];\n      }\n      d = g.apply(null, k);\n\n      d = function (a) {\n        return \"string\" === b ? B(a) : \"boolean\" === b ? !!a : a;\n      }(d);\n\n      0 !== a && ma(a);\n      return d;\n    }\n\n    var na = \"undefined\" !== typeof TextDecoder ? new TextDecoder(\"utf8\") : void 0;\n\n    function oa(a, b, d) {\n      var e = b + d;\n\n      for (d = b; a[d] && !(d >= e);) {\n        ++d;\n      }\n\n      if (16 < d - b && a.subarray && na) return na.decode(a.subarray(b, d));\n\n      for (e = \"\"; b < d;) {\n        var f = a[b++];\n\n        if (f & 128) {\n          var g = a[b++] & 63;\n          if (192 == (f & 224)) e += String.fromCharCode((f & 31) << 6 | g);else {\n            var k = a[b++] & 63;\n            f = 224 == (f & 240) ? (f & 15) << 12 | g << 6 | k : (f & 7) << 18 | g << 12 | k << 6 | a[b++] & 63;\n            65536 > f ? e += String.fromCharCode(f) : (f -= 65536, e += String.fromCharCode(55296 | f >> 10, 56320 | f & 1023));\n          }\n        } else e += String.fromCharCode(f);\n      }\n\n      return e;\n    }\n\n    function B(a) {\n      return a ? oa(C, a, void 0) : \"\";\n    }\n\n    function ka(a, b, d) {\n      var e = C;\n\n      if (0 < d) {\n        d = b + d - 1;\n\n        for (var f = 0; f < a.length; ++f) {\n          var g = a.charCodeAt(f);\n\n          if (55296 <= g && 57343 >= g) {\n            var k = a.charCodeAt(++f);\n            g = 65536 + ((g & 1023) << 10) | k & 1023;\n          }\n\n          if (127 >= g) {\n            if (b >= d) break;\n            e[b++] = g;\n          } else {\n            if (2047 >= g) {\n              if (b + 1 >= d) break;\n              e[b++] = 192 | g >> 6;\n            } else {\n              if (65535 >= g) {\n                if (b + 2 >= d) break;\n                e[b++] = 224 | g >> 12;\n              } else {\n                if (b + 3 >= d) break;\n                e[b++] = 240 | g >> 18;\n                e[b++] = 128 | g >> 12 & 63;\n              }\n\n              e[b++] = 128 | g >> 6 & 63;\n            }\n\n            e[b++] = 128 | g & 63;\n          }\n        }\n\n        e[b] = 0;\n      }\n    }\n\n    \"undefined\" !== typeof TextDecoder && new TextDecoder(\"utf-16le\");\n\n    function pa(a) {\n      0 < a % 65536 && (a += 65536 - a % 65536);\n      return a;\n    }\n\n    var D, A, C, qa, ra, E, _F, sa, ta;\n\n    function ua() {\n      c.HEAP8 = A = new Int8Array(D);\n      c.HEAP16 = qa = new Int16Array(D);\n      c.HEAP32 = E = new Int32Array(D);\n      c.HEAPU8 = C = new Uint8Array(D);\n      c.HEAPU16 = ra = new Uint16Array(D);\n      c.HEAPU32 = _F = new Uint32Array(D);\n      c.HEAPF32 = sa = new Float32Array(D);\n      c.HEAPF64 = ta = new Float64Array(D);\n    }\n\n    var va = c.TOTAL_MEMORY || 134217728;\n    5242880 > va && v(\"TOTAL_MEMORY should be larger than TOTAL_STACK, was \" + va + \"! (TOTAL_STACK=5242880)\");\n    c.wasmMemory ? w = c.wasmMemory : w = new WebAssembly.Memory({\n      initial: va / 65536\n    });\n    w && (D = w.buffer);\n    va = D.byteLength;\n    ua();\n    E[4380] = 5260432;\n\n    function wa(a) {\n      for (; 0 < a.length;) {\n        var b = a.shift();\n        if (\"function\" == typeof b) b();else {\n          var d = b.Sb;\n          \"number\" === typeof d ? void 0 === b.Pb ? c.dynCall_v(d) : c.dynCall_vi(d, b.Pb) : d(void 0 === b.Pb ? null : b.Pb);\n        }\n      }\n    }\n\n    var xa = [],\n        za = [],\n        Aa = [],\n        Ba = [],\n        Ca = [];\n\n    function Da() {\n      var a = c.preRun.shift();\n      xa.unshift(a);\n    }\n\n    var G = 0,\n        Ea = null,\n        Fa = null;\n    c.preloadedImages = {};\n    c.preloadedAudios = {};\n\n    function Ga() {\n      var a = H;\n      return String.prototype.startsWith ? a.startsWith(\"data:application/octet-stream;base64,\") : 0 === a.indexOf(\"data:application/octet-stream;base64,\");\n    }\n\n    var H = \"umbra.wasm\";\n\n    if (!Ga()) {\n      var Ha = H;\n      H = c.locateFile ? c.locateFile(Ha, u) : u + Ha;\n    }\n\n    function Ia() {\n      try {\n        if (c.wasmBinary) return new Uint8Array(c.wasmBinary);\n        throw \"both async and sync fetching of the wasm failed\";\n      } catch (a) {\n        z(a);\n      }\n    }\n\n    function Ja() {\n      return c.wasmBinary || \"function\" !== typeof fetch ? new Promise(function (a) {\n        a(Ia());\n      }) : fetch(H, {\n        credentials: \"same-origin\"\n      }).then(function (a) {\n        if (!a.ok) throw \"failed to load wasm binary file at '\" + H + \"'\";\n        return a.arrayBuffer();\n      })[\"catch\"](function () {\n        return Ia();\n      });\n    }\n\n    function Ka(a) {\n      function b(a) {\n        c.asm = a.exports;\n        G--;\n        c.monitorRunDependencies && c.monitorRunDependencies(G);\n        0 == G && (null !== Ea && (clearInterval(Ea), Ea = null), Fa && (a = Fa, Fa = null, a()));\n      }\n\n      function d(a) {\n        b(a.instance);\n      }\n\n      function e(a) {\n        return Ja().then(function (a) {\n          return WebAssembly.instantiate(a, f);\n        }).then(a, function (a) {\n          v(\"failed to asynchronously prepare wasm: \" + a);\n          z(a);\n        });\n      }\n\n      var f = {\n        env: a,\n        global: {\n          NaN: NaN,\n          Infinity: Infinity\n        },\n        \"global.Math\": Math,\n        asm2wasm: ea\n      };\n      G++;\n      c.monitorRunDependencies && c.monitorRunDependencies(G);\n      if (c.instantiateWasm) try {\n        return c.instantiateWasm(f, b);\n      } catch (g) {\n        return v(\"Module.instantiateWasm callback failed with error: \" + g), !1;\n      }\n\n      (function () {\n        if (c.wasmBinary || \"function\" !== typeof WebAssembly.instantiateStreaming || Ga() || \"function\" !== typeof fetch) return e(d);\n        fetch(H, {\n          credentials: \"same-origin\"\n        }).then(function (a) {\n          return WebAssembly.instantiateStreaming(a, f).then(d, function (a) {\n            v(\"wasm streaming compile failed: \" + a);\n            v(\"falling back to ArrayBuffer instantiation\");\n            e(d);\n          });\n        });\n      })();\n\n      return {};\n    }\n\n    c.asm = function (a, b) {\n      b.memory = w;\n      b.table = new WebAssembly.Table({\n        initial: 357,\n        maximum: 357,\n        element: \"anyfunc\"\n      });\n      b.__memory_base = 1024;\n      b.__table_base = 0;\n      return Ka(b);\n    };\n\n    var Ma = [function () {\n      alert(\"Invalid http method.\");\n    }, function (a, b, d, e, f, g, k, h, l, m, t) {\n      return La(a, b, d, e, f, g, k, h, l, m, t);\n    }, function () {\n      alert(\"Uploads are not supported.\");\n    }];\n    za.push({\n      Sb: function Sb() {\n        Na();\n      }\n    });\n\n    function Oa(a, b) {\n      Ba.unshift({\n        Sb: a,\n        Pb: b\n      });\n    }\n\n    var Pa = [null, [], []];\n\n    function Qa(a, b) {\n      var d = Pa[a];\n      0 === b || 10 === b ? ((1 === a ? ba : v)(oa(d, 0)), d.length = 0) : d.push(b);\n    }\n\n    var _I = 0;\n\n    function J() {\n      _I += 4;\n      return E[_I - 4 >> 2];\n    }\n\n    var Ra = {},\n        Sa = {};\n\n    function Ta(a) {\n      for (; a.length;) {\n        var b = a.pop();\n        a.pop()(b);\n      }\n    }\n\n    function Ua(a) {\n      return this.fromWireType(_F[a >> 2]);\n    }\n\n    var K = {},\n        L = {},\n        Va = {};\n\n    function Wa(a) {\n      if (void 0 === a) return \"_unknown\";\n      a = a.replace(/[^a-zA-Z0-9_]/g, \"$\");\n      var b = a.charCodeAt(0);\n      return 48 <= b && 57 >= b ? \"_\" + a : a;\n    }\n\n    function Xa(a, b) {\n      a = Wa(a);\n      return new Function(\"body\", \"return function \" + a + '() {\\n    \"use strict\";    return body.apply(this, arguments);\\n};\\n')(b);\n    }\n\n    function Ya(a) {\n      var b = Error,\n          d = Xa(a, function (b) {\n        this.name = a;\n        this.message = b;\n        b = Error(b).stack;\n        void 0 !== b && (this.stack = this.toString() + \"\\n\" + b.replace(/^Error(:[^\\n]*)?\\n/, \"\"));\n      });\n      d.prototype = Object.create(b.prototype);\n      d.prototype.constructor = d;\n\n      d.prototype.toString = function () {\n        return void 0 === this.message ? this.name : this.name + \": \" + this.message;\n      };\n\n      return d;\n    }\n\n    var Za = void 0;\n\n    function $a(a, b, d) {\n      function e(b) {\n        b = d(b);\n        if (b.length !== a.length) throw new Za(\"Mismatched type converter count\");\n\n        for (var e = 0; e < a.length; ++e) {\n          M(a[e], b[e]);\n        }\n      }\n\n      a.forEach(function (a) {\n        Va[a] = b;\n      });\n      var f = Array(b.length),\n          g = [],\n          k = 0;\n      b.forEach(function (a, b) {\n        L.hasOwnProperty(a) ? f[b] = L[a] : (g.push(a), K.hasOwnProperty(a) || (K[a] = []), K[a].push(function () {\n          f[b] = L[a];\n          ++k;\n          k === g.length && e(f);\n        }));\n      });\n      0 === g.length && e(f);\n    }\n\n    function ab(a) {\n      switch (a) {\n        case 1:\n          return 0;\n\n        case 2:\n          return 1;\n\n        case 4:\n          return 2;\n\n        case 8:\n          return 3;\n\n        default:\n          throw new TypeError(\"Unknown type size: \" + a);\n      }\n    }\n\n    var bb = void 0;\n\n    function N(a) {\n      for (var b = \"\"; C[a];) {\n        b += bb[C[a++]];\n      }\n\n      return b;\n    }\n\n    var cb = void 0;\n\n    function O(a) {\n      throw new cb(a);\n    }\n\n    function M(a, b, d) {\n      d = d || {};\n      if (!(\"argPackAdvance\" in b)) throw new TypeError(\"registerType registeredInstance requires argPackAdvance\");\n      var e = b.name;\n      a || O('type \"' + e + '\" must have a positive integer typeid pointer');\n\n      if (L.hasOwnProperty(a)) {\n        if (d.cc) return;\n        O(\"Cannot register type '\" + e + \"' twice\");\n      }\n\n      L[a] = b;\n      delete Va[a];\n      K.hasOwnProperty(a) && (b = K[a], delete K[a], b.forEach(function (a) {\n        a();\n      }));\n    }\n\n    var db = [],\n        P = [{}, {\n      value: void 0\n    }, {\n      value: null\n    }, {\n      value: !0\n    }, {\n      value: !1\n    }];\n\n    function eb(a) {\n      4 < a && 0 === --P[a].Tb && (P[a] = void 0, db.push(a));\n    }\n\n    function R(a) {\n      switch (a) {\n        case void 0:\n          return 1;\n\n        case null:\n          return 2;\n\n        case !0:\n          return 3;\n\n        case !1:\n          return 4;\n\n        default:\n          var b = db.length ? db.pop() : P.length;\n          P[b] = {\n            Tb: 1,\n            value: a\n          };\n          return b;\n      }\n    }\n\n    function fb(a) {\n      if (null === a) return \"null\";\n\n      var b = _typeof(a);\n\n      return \"object\" === b || \"array\" === b || \"function\" === b ? a.toString() : \"\" + a;\n    }\n\n    function gb(a, b) {\n      switch (b) {\n        case 2:\n          return function (a) {\n            return this.fromWireType(sa[a >> 2]);\n          };\n\n        case 3:\n          return function (a) {\n            return this.fromWireType(ta[a >> 3]);\n          };\n\n        default:\n          throw new TypeError(\"Unknown float type: \" + a);\n      }\n    }\n\n    function hb(a) {\n      var b = Function;\n      if (!(b instanceof Function)) throw new TypeError(\"new_ called with constructor type \" + _typeof(b) + \" which is not a function\");\n      var d = Xa(b.name || \"unknownFunctionName\", function () {});\n      d.prototype = b.prototype;\n      d = new d();\n      a = b.apply(d, a);\n      return a instanceof Object ? a : d;\n    }\n\n    function ib(a, b) {\n      var d = c;\n\n      if (void 0 === d[a].Nb) {\n        var e = d[a];\n\n        d[a] = function () {\n          d[a].Nb.hasOwnProperty(arguments.length) || O(\"Function '\" + b + \"' called with an invalid number of arguments (\" + arguments.length + \") - expects one of (\" + d[a].Nb + \")!\");\n          return d[a].Nb[arguments.length].apply(this, arguments);\n        };\n\n        d[a].Nb = [];\n        d[a].Nb[e.Xb] = e;\n      }\n    }\n\n    function jb(a, b, d) {\n      c.hasOwnProperty(a) ? ((void 0 === d || void 0 !== c[a].Nb && void 0 !== c[a].Nb[d]) && O(\"Cannot register public name '\" + a + \"' twice\"), ib(a, a), c.hasOwnProperty(d) && O(\"Cannot register multiple overloads of a function with the same number of arguments (\" + d + \")!\"), c[a].Nb[d] = b) : (c[a] = b, void 0 !== d && (c[a].vc = d));\n    }\n\n    function kb(a, b) {\n      for (var d = [], e = 0; e < a; e++) {\n        d.push(E[(b >> 2) + e]);\n      }\n\n      return d;\n    }\n\n    function lb(a, b) {\n      a = N(a);\n      if (void 0 !== c[\"FUNCTION_TABLE_\" + a]) var d = c[\"FUNCTION_TABLE_\" + a][b];else if (\"undefined\" !== typeof FUNCTION_TABLE) d = FUNCTION_TABLE[b];else {\n        d = c[\"dynCall_\" + a];\n        void 0 === d && (d = c[\"dynCall_\" + a.replace(/f/g, \"d\")], void 0 === d && O(\"No dynCall invoker for signature: \" + a));\n\n        for (var e = [], f = 1; f < a.length; ++f) {\n          e.push(\"a\" + f);\n        }\n\n        f = \"return function \" + (\"dynCall_\" + a + \"_\" + b) + \"(\" + e.join(\", \") + \") {\\n\";\n        f += \"    return dynCall(rawFunction\" + (e.length ? \", \" : \"\") + e.join(\", \") + \");\\n\";\n        d = new Function(\"dynCall\", \"rawFunction\", f + \"};\\n\")(d, b);\n      }\n      \"function\" !== typeof d && O(\"unknown function pointer with signature \" + a + \": \" + b);\n      return d;\n    }\n\n    var mb = void 0;\n\n    function nb(a) {\n      a = ob(a);\n      var b = N(a);\n      S(a);\n      return b;\n    }\n\n    function pb(a, b) {\n      function d(a) {\n        f[a] || L[a] || (Va[a] ? Va[a].forEach(d) : (e.push(a), f[a] = !0));\n      }\n\n      var e = [],\n          f = {};\n      b.forEach(d);\n      throw new mb(a + \": \" + e.map(nb).join([\", \"]));\n    }\n\n    function qb(a, b, d) {\n      switch (b) {\n        case 0:\n          return d ? function (a) {\n            return A[a];\n          } : function (a) {\n            return C[a];\n          };\n\n        case 1:\n          return d ? function (a) {\n            return qa[a >> 1];\n          } : function (a) {\n            return ra[a >> 1];\n          };\n\n        case 2:\n          return d ? function (a) {\n            return E[a >> 2];\n          } : function (a) {\n            return _F[a >> 2];\n          };\n\n        default:\n          throw new TypeError(\"Unknown integer type: \" + a);\n      }\n    }\n\n    function T(a) {\n      a || O(\"Cannot use deleted val. handle = \" + a);\n      return P[a].value;\n    }\n\n    function rb(a, b) {\n      var d = L[a];\n      void 0 === d && O(b + \" has unknown type \" + nb(a));\n      return d;\n    }\n\n    var sb = {};\n\n    function tb(a) {\n      var b = sb[a];\n      return void 0 === b ? N(a) : b;\n    }\n\n    var ub = [];\n\n    function vb(a) {\n      var b = ub.length;\n      ub.push(a);\n      return b;\n    }\n\n    function wb(a, b) {\n      for (var d = Array(a), e = 0; e < a; ++e) {\n        d[e] = rb(E[(b >> 2) + e], \"parameter \" + e);\n      }\n\n      return d;\n    }\n\n    function xb(a, b) {\n      yb = a;\n      zb = b;\n      if (Ab) if (0 == a) U = function U() {\n        var a = Math.max(0, Bb + b - V()) | 0;\n        setTimeout(_Cb, a);\n      }, Db = \"timeout\";else if (1 == a) U = function U() {\n        Eb(_Cb);\n      }, Db = \"rAF\";else if (2 == a) {\n        if (\"undefined\" === typeof setImmediate) {\n          var d = [];\n          addEventListener(\"message\", function (a) {\n            if (\"setimmediate\" === a.data || \"setimmediate\" === a.data.target) a.stopPropagation(), d.shift()();\n          }, !0);\n\n          setImmediate = function setImmediate(a) {\n            d.push(a);\n            postMessage(\"setimmediate\", \"*\");\n          };\n        }\n\n        U = function U() {\n          setImmediate(_Cb);\n        };\n\n        Db = \"immediate\";\n      }\n    }\n\n    function V() {\n      z();\n    }\n\n    function Fb(a) {\n      var b = Gb;\n      c.noExitRuntime = !0;\n      fa(!Ab, \"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.\");\n      Ab = a;\n      Gb = b;\n      var d = \"undefined\" !== typeof b ? function () {\n        c.dynCall_vi(a, b);\n      } : function () {\n        c.dynCall_v(a);\n      };\n      var e = W;\n\n      _Cb = function Cb() {\n        if (!x) if (0 < Hb.length) {\n          var a = Date.now(),\n              b = Hb.shift();\n          b.Sb(b.Pb);\n\n          if (Ib) {\n            var k = Ib,\n                h = 0 == k % 1 ? k - 1 : Math.floor(k);\n            Ib = b.mc ? h : (8 * k + (h + .5)) / 9;\n          }\n\n          console.log('main loop blocker \"' + b.name + '\" took ' + (Date.now() - a) + \" ms\");\n          c.setStatus && (a = c.statusMessage || \"Please wait...\", b = Ib, k = Jb.qc, b ? b < k ? c.setStatus(a + \" (\" + (k - b) + \"/\" + k + \")\") : c.setStatus(a) : c.setStatus(\"\"));\n          e < W || setTimeout(_Cb, 0);\n        } else if (!(e < W)) if (Kb = Kb + 1 | 0, 1 == yb && 1 < zb && 0 != Kb % zb) U();else {\n          0 == yb && (Bb = V());\n          \"timeout\" === Db && c.Rb && (v(\"Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!\"), Db = \"\");\n\n          a: if (!(x || c.preMainLoop && !1 === c.preMainLoop())) {\n            try {\n              d();\n            } catch (l) {\n              if (l instanceof Lb) break a;\n              l && \"object\" === _typeof(l) && l.stack && v(\"exception thrown: \" + [l, l.stack]);\n              throw l;\n            }\n\n            c.postMainLoop && c.postMainLoop();\n          }\n\n          e < W || (\"object\" === (typeof SDL === \"undefined\" ? \"undefined\" : _typeof(SDL)) && SDL.audio && SDL.audio.ec && SDL.audio.ec(), U());\n        }\n      };\n    }\n\n    var U = null,\n        Db = \"\",\n        W = 0,\n        Ab = null,\n        Gb = 0,\n        yb = 0,\n        zb = 0,\n        Kb = 0,\n        Hb = [],\n        Jb = {},\n        Bb,\n        _Cb,\n        Ib,\n        Nb = !1,\n        Ob = !1,\n        Pb = [];\n\n    function Qb() {\n      function a() {\n        Ob = document.pointerLockElement === c.canvas || document.mozPointerLockElement === c.canvas || document.webkitPointerLockElement === c.canvas || document.msPointerLockElement === c.canvas;\n      }\n\n      c.preloadPlugins || (c.preloadPlugins = []);\n\n      if (!Rb) {\n        Rb = !0;\n\n        try {\n          Sb = !0;\n        } catch (d) {\n          Sb = !1, console.log(\"warning: no blob constructor, cannot create blobs with mimetypes\");\n        }\n\n        Tb = \"undefined\" != typeof MozBlobBuilder ? MozBlobBuilder : \"undefined\" != typeof WebKitBlobBuilder ? WebKitBlobBuilder : Sb ? null : console.log(\"warning: no BlobBuilder\");\n        Ub = \"undefined\" != typeof window ? window.URL ? window.URL : window.webkitURL : void 0;\n        c.Wb || \"undefined\" !== typeof Ub || (console.log(\"warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available.\"), c.Wb = !0);\n        c.preloadPlugins.push({\n          canHandle: function canHandle(a) {\n            return !c.Wb && /\\.(jpg|jpeg|png|bmp)$/i.test(a);\n          },\n          handle: function handle(a, b, f, g) {\n            var d = null;\n            if (Sb) try {\n              d = new Blob([a], {\n                type: Vb(b)\n              }), d.size !== a.length && (d = new Blob([new Uint8Array(a).buffer], {\n                type: Vb(b)\n              }));\n            } catch (m) {\n              ca(\"Blob constructor present but fails: \" + m + \"; falling back to blob builder\");\n            }\n            d || (d = new Tb(), d.append(new Uint8Array(a).buffer), d = d.getBlob());\n            var e = Ub.createObjectURL(d),\n                l = new Image();\n\n            l.onload = function () {\n              fa(l.complete, \"Image \" + b + \" could not be decoded\");\n              var d = document.createElement(\"canvas\");\n              d.width = l.width;\n              d.height = l.height;\n              d.getContext(\"2d\").drawImage(l, 0, 0);\n              c.preloadedImages[b] = d;\n              Ub.revokeObjectURL(e);\n              f && f(a);\n            };\n\n            l.onerror = function () {\n              console.log(\"Image \" + e + \" could not be decoded\");\n              g && g();\n            };\n\n            l.src = e;\n          }\n        });\n        c.preloadPlugins.push({\n          canHandle: function canHandle(a) {\n            return !c.uc && a.substr(-4) in {\n              \".ogg\": 1,\n              \".wav\": 1,\n              \".mp3\": 1\n            };\n          },\n          handle: function handle(a, b, f, g) {\n            function d(d) {\n              l || (l = !0, c.preloadedAudios[b] = d, f && f(a));\n            }\n\n            function e() {\n              l || (l = !0, c.preloadedAudios[b] = new Audio(), g && g());\n            }\n\n            var l = !1;\n\n            if (Sb) {\n              try {\n                var m = new Blob([a], {\n                  type: Vb(b)\n                });\n              } catch (q) {\n                return e();\n              }\n\n              m = Ub.createObjectURL(m);\n              var t = new Audio();\n              t.addEventListener(\"canplaythrough\", function () {\n                d(t);\n              }, !1);\n\n              t.onerror = function () {\n                if (!l) {\n                  console.log(\"warning: browser could not fully decode audio \" + b + \", trying slower base64 approach\");\n\n                  for (var e = \"\", f = 0, g = 0, h = 0; h < a.length; h++) {\n                    for (f = f << 8 | a[h], g += 8; 6 <= g;) {\n                      var k = f >> g - 6 & 63;\n                      g -= 6;\n                      e += \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"[k];\n                    }\n                  }\n\n                  2 == g ? (e += \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"[(f & 3) << 4], e += \"==\") : 4 == g && (e += \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"[(f & 15) << 2], e += \"=\");\n                  t.src = \"data:audio/x-\" + b.substr(-3) + \";base64,\" + e;\n                  d(t);\n                }\n              };\n\n              t.src = m;\n              Wb(function () {\n                d(t);\n              });\n            } else return e();\n          }\n        });\n        var b = c.canvas;\n        b && (b.requestPointerLock = b.requestPointerLock || b.mozRequestPointerLock || b.webkitRequestPointerLock || b.msRequestPointerLock || function () {}, b.exitPointerLock = document.exitPointerLock || document.mozExitPointerLock || document.webkitExitPointerLock || document.msExitPointerLock || function () {}, b.exitPointerLock = b.exitPointerLock.bind(document), document.addEventListener(\"pointerlockchange\", a, !1), document.addEventListener(\"mozpointerlockchange\", a, !1), document.addEventListener(\"webkitpointerlockchange\", a, !1), document.addEventListener(\"mspointerlockchange\", a, !1), c.elementPointerLock && b.addEventListener(\"click\", function (a) {\n          !Ob && c.canvas.requestPointerLock && (c.canvas.requestPointerLock(), a.preventDefault());\n        }, !1));\n      }\n    }\n\n    function Xb(a, b, d, e) {\n      if (b && c.Rb && a == c.canvas) return c.Rb;\n      var f;\n\n      if (b) {\n        var g = {\n          antialias: !1,\n          alpha: !1,\n          sc: 1\n        };\n        if (e) for (var k in e) {\n          g[k] = e[k];\n        }\n        if (\"undefined\" !== typeof GL && (f = GL.nc(a, g))) var h = GL.getContext(f).lc;\n      } else h = a.getContext(\"2d\");\n\n      if (!h) return null;\n      d && (b || fa(\"undefined\" === typeof GLctx, \"cannot set in module if GLctx is used, but we are a non-GL context that would replace it\"), c.Rb = h, b && GL.tc(f), c.wc = b, Pb.forEach(function (a) {\n        a();\n      }), Qb());\n      return h;\n    }\n\n    var Yb = !1,\n        Zb = void 0,\n        X = void 0;\n\n    function $b(a, b, d) {\n      function e() {\n        Nb = !1;\n        var a = f.parentNode;\n        (document.fullscreenElement || document.mozFullScreenElement || document.msFullscreenElement || document.webkitFullscreenElement || document.webkitCurrentFullScreenElement) === a ? (f.exitFullscreen = ac, Zb && f.requestPointerLock(), Nb = !0, X ? (\"undefined\" != typeof SDL && (E[SDL.screen >> 2] = _F[SDL.screen >> 2] | 8388608), bc(c.canvas), cc()) : bc(f)) : (a.parentNode.insertBefore(f, a), a.parentNode.removeChild(a), X ? (\"undefined\" != typeof SDL && (E[SDL.screen >> 2] = _F[SDL.screen >> 2] & -8388609), bc(c.canvas), cc()) : bc(f));\n        if (c.onFullScreen) c.onFullScreen(Nb);\n        if (c.onFullscreen) c.onFullscreen(Nb);\n      }\n\n      Zb = a;\n      X = b;\n      \"undefined\" === typeof Zb && (Zb = !0);\n      \"undefined\" === typeof X && (X = !1);\n      var f = c.canvas;\n      Yb || (Yb = !0, document.addEventListener(\"fullscreenchange\", e, !1), document.addEventListener(\"mozfullscreenchange\", e, !1), document.addEventListener(\"webkitfullscreenchange\", e, !1), document.addEventListener(\"MSFullscreenChange\", e, !1));\n      var g = document.createElement(\"div\");\n      f.parentNode.insertBefore(g, f);\n      g.appendChild(f);\n      g.requestFullscreen = g.requestFullscreen || g.mozRequestFullScreen || g.msRequestFullscreen || (g.webkitRequestFullscreen ? function () {\n        g.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n      } : null) || (g.webkitRequestFullScreen ? function () {\n        g.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);\n      } : null);\n      d ? g.requestFullscreen({\n        xc: d\n      }) : g.requestFullscreen();\n    }\n\n    function ec(a, b, d) {\n      v(\"Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead.\");\n\n      ec = function ec(a, b, d) {\n        $b(a, b, d);\n      };\n\n      $b(a, b, d);\n    }\n\n    function ac() {\n      if (!Nb) return !1;\n      (document.exitFullscreen || document.cancelFullScreen || document.mozCancelFullScreen || document.msExitFullscreen || document.webkitCancelFullScreen || function () {}).apply(document, []);\n      return !0;\n    }\n\n    var fc = 0;\n\n    function Eb(a) {\n      if (\"function\" === typeof requestAnimationFrame) requestAnimationFrame(a);else {\n        var b = Date.now();\n        if (0 === fc) fc = b + 1E3 / 60;else for (; b + 2 >= fc;) {\n          fc += 1E3 / 60;\n        }\n        setTimeout(a, Math.max(fc - b, 0));\n      }\n    }\n\n    function Wb(a) {\n      c.noExitRuntime = !0;\n      setTimeout(function () {\n        x || a();\n      }, 1E4);\n    }\n\n    function Vb(a) {\n      return {\n        jpg: \"image/jpeg\",\n        jpeg: \"image/jpeg\",\n        png: \"image/png\",\n        bmp: \"image/bmp\",\n        ogg: \"audio/ogg\",\n        wav: \"audio/wav\",\n        mp3: \"audio/mpeg\"\n      }[a.substr(a.lastIndexOf(\".\") + 1)];\n    }\n\n    var gc = [];\n\n    function cc() {\n      var a = c.canvas;\n      gc.forEach(function (b) {\n        b(a.width, a.height);\n      });\n    }\n\n    function bc(a, b, d) {\n      b && d ? (a.kc = b, a.bc = d) : (b = a.kc, d = a.bc);\n      var e = b,\n          f = d;\n      c.forcedAspectRatio && 0 < c.forcedAspectRatio && (e / f < c.forcedAspectRatio ? e = Math.round(f * c.forcedAspectRatio) : f = Math.round(e / c.forcedAspectRatio));\n\n      if ((document.fullscreenElement || document.mozFullScreenElement || document.msFullscreenElement || document.webkitFullscreenElement || document.webkitCurrentFullScreenElement) === a.parentNode && \"undefined\" != typeof screen) {\n        var g = Math.min(screen.width / e, screen.height / f);\n        e = Math.round(e * g);\n        f = Math.round(f * g);\n      }\n\n      X ? (a.width != e && (a.width = e), a.height != f && (a.height = f), \"undefined\" != typeof a.style && (a.style.removeProperty(\"width\"), a.style.removeProperty(\"height\"))) : (a.width != b && (a.width = b), a.height != d && (a.height = d), \"undefined\" != typeof a.style && (e != b || f != d ? (a.style.setProperty(\"width\", e + \"px\", \"important\"), a.style.setProperty(\"height\", f + \"px\", \"important\")) : (a.style.removeProperty(\"width\"), a.style.removeProperty(\"height\"))));\n    }\n\n    var Y = {},\n        hc = 0;\n\n    function ic() {\n      var a = hc;\n      hc++;\n      return a;\n    }\n\n    var Rb, Sb, Tb, Ub;\n\n    function jc() {\n      return A.length;\n    }\n\n    function kc() {\n      if (\"undefined\" !== typeof indexedDB) return indexedDB;\n      var a = null;\n      \"object\" === (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) && (a = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB);\n      fa(a, \"IDBStore used, but indexedDB not supported\");\n      return a;\n    }\n\n    var lc = {};\n\n    function mc(a, b) {\n      var d = lc[a];\n      if (d) b(null, d);else {\n        try {\n          var e = kc().open(a, 22);\n        } catch (f) {\n          b(f);\n          return;\n        }\n\n        e.onupgradeneeded = function (a) {\n          var b = a.target.result;\n          a = a.target.transaction;\n          b.objectStoreNames.contains(\"FILE_DATA\") ? a.objectStore(\"FILE_DATA\") : b.createObjectStore(\"FILE_DATA\");\n        };\n\n        e.onsuccess = function () {\n          d = e.result;\n          lc[a] = d;\n          b(null, d);\n        };\n\n        e.onerror = function (a) {\n          b(this.error);\n          a.preventDefault();\n        };\n      }\n    }\n\n    function nc(a, b, d) {\n      mc(a, function (a, f) {\n        if (a) return d(a);\n        a = f.transaction([\"FILE_DATA\"], b);\n\n        a.onerror = function (a) {\n          d(this.error || \"unknown error\");\n          a.preventDefault();\n        };\n\n        a = a.objectStore(\"FILE_DATA\");\n        d(null, a);\n      });\n    }\n\n    function oc(a, b, d) {\n      nc(a, \"readonly\", function (a, f) {\n        if (a) return d(a);\n        a = f.get(b);\n\n        a.onsuccess = function (a) {\n          return (a = a.target.result) ? d(null, a) : d(\"file \" + b + \" not found\");\n        };\n\n        a.onerror = function (a) {\n          d(a);\n        };\n      });\n    }\n\n    function pc(a, b, d, e) {\n      nc(a, \"readwrite\", function (a, g) {\n        if (a) return e(a);\n        a = g.put(d, b);\n\n        a.onsuccess = function () {\n          e();\n        };\n\n        a.onerror = function (a) {\n          e(a);\n        };\n      });\n    }\n\n    function qc(a) {\n      if (!c.noExitRuntime && (x = !0, wa(Ba), c.onExit)) c.onExit(a);\n      c.quit(a, new Lb(a));\n    }\n\n    c._exit = qc;\n    ka(\"GMT\", 17424, 4);\n\n    function rc(a) {\n      a = pa(a);\n      var b = D.byteLength;\n\n      try {\n        return -1 !== w.grow((a - b) / 65536) ? (D = w.buffer, !0) : !1;\n      } catch (d) {\n        return !1;\n      }\n    }\n\n    Ba.push(function () {\n      var a = c._fflush;\n      a && a(0);\n      Pa[1].length && Qa(1, 10);\n      Pa[2].length && Qa(2, 10);\n    });\n    Za = c.InternalError = Ya(\"InternalError\");\n\n    for (var sc = Array(256), tc = 0; 256 > tc; ++tc) {\n      sc[tc] = String.fromCharCode(tc);\n    }\n\n    bb = sc;\n    cb = c.BindingError = Ya(\"BindingError\");\n\n    c.count_emval_handles = function () {\n      for (var a = 0, b = 5; b < P.length; ++b) {\n        void 0 !== P[b] && ++a;\n      }\n\n      return a;\n    };\n\n    c.get_first_emval = function () {\n      for (var a = 5; a < P.length; ++a) {\n        if (void 0 !== P[a]) return P[a];\n      }\n\n      return null;\n    };\n\n    mb = c.UnboundTypeError = Ya(\"UnboundTypeError\");\n\n    c.requestFullScreen = function (a, b, d) {\n      v(\"Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead.\");\n      c.requestFullScreen = c.requestFullscreen;\n      ec(a, b, d);\n    };\n\n    c.requestFullscreen = function (a, b, d) {\n      $b(a, b, d);\n    };\n\n    c.requestAnimationFrame = function (a) {\n      Eb(a);\n    };\n\n    c.setCanvasSize = function (a, b, d) {\n      bc(c.canvas, a, b);\n      d || cc();\n    };\n\n    c.pauseMainLoop = function () {\n      U = null;\n      W++;\n    };\n\n    c.resumeMainLoop = function () {\n      W++;\n      var a = yb,\n          b = zb,\n          d = Ab;\n      Ab = null;\n      Fb(d);\n      xb(a, b);\n      U();\n    };\n\n    c.getUserMedia = function () {\n      window.getUserMedia || (window.getUserMedia = navigator.getUserMedia || navigator.mozGetUserMedia);\n      window.getUserMedia(void 0);\n    };\n\n    c.createContext = function (a, b, d, e) {\n      return Xb(a, b, d, e);\n    };\n\n    \"undefined\" !== typeof dateNow ? V = dateNow : \"object\" === (typeof performance === \"undefined\" ? \"undefined\" : _typeof(performance)) && performance && \"function\" === typeof performance.now ? V = function V() {\n      return performance.now();\n    } : V = Date.now;\n    var xc = c.asm({}, {\n      k: z,\n      z: function z() {},\n      ea: function ea() {\n        v(\"missing function: _ZN5Umbra13MiniSceneCopy7connectERK20UmbraSceneCopySource\");\n        z(-1);\n      },\n      $: function $() {\n        v(\"missing function: _ZN5Umbra13MiniSceneCopy9getStatusEPf\");\n        z(-1);\n      },\n      D: function D() {\n        v(\"missing function: _ZN5Umbra13MiniSceneCopyC1ERNS_11MiniRuntimeERK25UmbraSceneCopyDestinationPK20UmbraEnvironmentInfoRKN5Eigen6MatrixIfLi3ELi1ELi0ELi3ELi1EEEfi\");\n        z(-1);\n      },\n      Y: function Y() {\n        return Oa.apply(null, arguments);\n      },\n      v: function v() {},\n      y: function y(a) {\n        c.___errno_location && (E[c.___errno_location() >> 2] = a);\n        return a;\n      },\n      M: function M(a, b) {\n        _I = b;\n\n        try {\n          return Ra.Vb(), J(), J(), J(), J(), 0;\n        } catch (d) {\n          return z(d), -d.Qb;\n        }\n      },\n      L: function L(a, b) {\n        _I = b;\n\n        try {\n          var d = Ra.Vb(),\n              e = J(),\n              f = J();\n          return Ra.oc(d, e, f);\n        } catch (g) {\n          return z(g), -g.Qb;\n        }\n      },\n      x: function x(a, b) {\n        _I = b;\n\n        try {\n          var d = J(),\n              e = J(),\n              f = J();\n\n          for (b = a = 0; b < f; b++) {\n            for (var g = E[e + 8 * b >> 2], k = E[e + (8 * b + 4) >> 2], h = 0; h < k; h++) {\n              Qa(d, C[g + h]);\n            }\n\n            a += k;\n          }\n\n          return a;\n        } catch (l) {\n          return z(l), -l.Qb;\n        }\n      },\n      da: function da(a, b) {\n        _I = b;\n\n        try {\n          var d = B(J()),\n              e = J();\n          return Ra.pc((void 0).stat, d, e);\n        } catch (f) {\n          return z(f), -f.Qb;\n        }\n      },\n      K: function K(a, b) {\n        _I = b;\n        return 0;\n      },\n      ca: function ca(a, b) {\n        _I = b;\n\n        try {\n          var d = B(J()),\n              e = J(),\n              f = J();\n          return (void 0).open(d, e, f).rc;\n        } catch (g) {\n          return z(g), -g.Qb;\n        }\n      },\n      J: function J(a, b) {\n        _I = b;\n        return 0;\n      },\n      I: function I(a, b) {\n        _I = b;\n\n        try {\n          return Ra.Vb(), 0;\n        } catch (d) {\n          return z(d), -d.Qb;\n        }\n      },\n      w: function w() {},\n      H: function H(a) {\n        var b = Sa[a];\n        delete Sa[a];\n        var d = b.fc,\n            e = b.gc,\n            f = b.Ub,\n            g = f.map(function (a) {\n          return a.ac;\n        }).concat(f.map(function (a) {\n          return a.ic;\n        }));\n        $a([a], g, function (a) {\n          var g = {};\n          f.forEach(function (b, d) {\n            var e = a[d],\n                h = b.Zb,\n                k = b.$b,\n                l = a[d + f.length],\n                m = b.hc,\n                ya = b.jc;\n            g[b.Yb] = {\n              read: function read(a) {\n                return e.fromWireType(h(k, a));\n              },\n              write: function write(a, b) {\n                var d = [];\n                m(ya, a, l.toWireType(d, b));\n                Ta(d);\n              }\n            };\n          });\n          return [{\n            name: b.name,\n            fromWireType: function fromWireType(a) {\n              var b = {},\n                  d;\n\n              for (d in g) {\n                b[d] = g[d].read(a);\n              }\n\n              e(a);\n              return b;\n            },\n            toWireType: function toWireType(a, b) {\n              for (var f in g) {\n                if (!(f in b)) throw new TypeError(\"Missing field\");\n              }\n\n              var h = d();\n\n              for (f in g) {\n                g[f].write(h, b[f]);\n              }\n\n              null !== a && a.push(e, h);\n              return h;\n            },\n            argPackAdvance: 8,\n            readValueFromPointer: Ua,\n            Ob: e\n          }];\n        });\n      },\n      ba: function ba(a, b, d, e, f) {\n        var g = ab(d);\n        b = N(b);\n        M(a, {\n          name: b,\n          fromWireType: function fromWireType(a) {\n            return !!a;\n          },\n          toWireType: function toWireType(a, b) {\n            return b ? e : f;\n          },\n          argPackAdvance: 8,\n          readValueFromPointer: function readValueFromPointer(a) {\n            if (1 === d) var e = A;else if (2 === d) e = qa;else if (4 === d) e = E;else throw new TypeError(\"Unknown boolean type size: \" + b);\n            return this.fromWireType(e[a >> g]);\n          },\n          Ob: null\n        });\n      },\n      p: function p(a, b, d) {\n        a = N(a);\n        $a([], [b], function (b) {\n          b = b[0];\n          c[a] = b.fromWireType(d);\n          return [];\n        });\n      },\n      aa: function aa(a, b) {\n        b = N(b);\n        M(a, {\n          name: b,\n          fromWireType: function fromWireType(a) {\n            var b = P[a].value;\n            eb(a);\n            return b;\n          },\n          toWireType: function toWireType(a, b) {\n            return R(b);\n          },\n          argPackAdvance: 8,\n          readValueFromPointer: Ua,\n          Ob: null\n        });\n      },\n      G: function G(a, b, d) {\n        d = ab(d);\n        b = N(b);\n        M(a, {\n          name: b,\n          fromWireType: function fromWireType(a) {\n            return a;\n          },\n          toWireType: function toWireType(a, b) {\n            if (\"number\" !== typeof b && \"boolean\" !== typeof b) throw new TypeError('Cannot convert \"' + fb(b) + '\" to ' + this.name);\n            return b;\n          },\n          argPackAdvance: 8,\n          readValueFromPointer: gb(b, d),\n          Ob: null\n        });\n      },\n      j: function j(a, b, d, e, f, g) {\n        var k = kb(b, d);\n        a = N(a);\n        f = lb(e, f);\n        jb(a, function () {\n          pb(\"Cannot call \" + a + \" due to unbound types\", k);\n        }, b - 1);\n        $a([], k, function (d) {\n          var e = a,\n              h = a;\n          d = [d[0], null].concat(d.slice(1));\n          var k = f,\n              q = d.length;\n          2 > q && O(\"argTypes array size mismatch! Must at least get return value and 'this' types!\");\n\n          for (var r = null !== d[1] && !1, y = !1, n = 1; n < d.length; ++n) {\n            if (null !== d[n] && void 0 === d[n].Ob) {\n              y = !0;\n              break;\n            }\n          }\n\n          var ya = \"void\" !== d[0].name,\n              Q = \"\",\n              Z = \"\";\n\n          for (n = 0; n < q - 2; ++n) {\n            Q += (0 !== n ? \", \" : \"\") + \"arg\" + n, Z += (0 !== n ? \", \" : \"\") + \"arg\" + n + \"Wired\";\n          }\n\n          h = \"return function \" + Wa(h) + \"(\" + Q + \") {\\nif (arguments.length !== \" + (q - 2) + \") {\\nthrowBindingError('function \" + h + \" called with ' + arguments.length + ' arguments, expected \" + (q - 2) + \" args!');\\n}\\n\";\n          y && (h += \"var destructors = [];\\n\");\n          var Mb = y ? \"destructors\" : \"null\";\n          Q = \"throwBindingError invoker fn runDestructors retType classParam\".split(\" \");\n          k = [O, k, g, Ta, d[0], d[1]];\n          r && (h += \"var thisWired = classParam.toWireType(\" + Mb + \", this);\\n\");\n\n          for (n = 0; n < q - 2; ++n) {\n            h += \"var arg\" + n + \"Wired = argType\" + n + \".toWireType(\" + Mb + \", arg\" + n + \"); // \" + d[n + 2].name + \"\\n\", Q.push(\"argType\" + n), k.push(d[n + 2]);\n          }\n\n          r && (Z = \"thisWired\" + (0 < Z.length ? \", \" : \"\") + Z);\n          h += (ya ? \"var rv = \" : \"\") + \"invoker(fn\" + (0 < Z.length ? \", \" : \"\") + Z + \");\\n\";\n          if (y) h += \"runDestructors(destructors);\\n\";else for (n = r ? 1 : 2; n < d.length; ++n) {\n            q = 1 === n ? \"thisWired\" : \"arg\" + (n - 2) + \"Wired\", null !== d[n].Ob && (h += q + \"_dtor(\" + q + \"); // \" + d[n].name + \"\\n\", Q.push(q + \"_dtor\"), k.push(d[n].Ob));\n          }\n          ya && (h += \"var ret = retType.fromWireType(rv);\\nreturn ret;\\n\");\n          Q.push(h + \"}\\n\");\n          d = hb(Q).apply(null, k);\n          n = b - 1;\n          if (!c.hasOwnProperty(e)) throw new Za(\"Replacing nonexistant public symbol\");\n          void 0 !== c[e].Nb && void 0 !== n ? c[e].Nb[n] = d : (c[e] = d, c[e].Xb = n);\n          return [];\n        });\n      },\n      s: function s(a, b, d, e, f) {\n        function g(a) {\n          return a;\n        }\n\n        b = N(b);\n        -1 === f && (f = 4294967295);\n        var k = ab(d);\n\n        if (0 === e) {\n          var h = 32 - 8 * d;\n\n          g = function g(a) {\n            return a << h >>> h;\n          };\n        }\n\n        var l = -1 != b.indexOf(\"unsigned\");\n        M(a, {\n          name: b,\n          fromWireType: g,\n          toWireType: function toWireType(a, d) {\n            if (\"number\" !== typeof d && \"boolean\" !== typeof d) throw new TypeError('Cannot convert \"' + fb(d) + '\" to ' + this.name);\n            if (d < e || d > f) throw new TypeError('Passing a number \"' + fb(d) + '\" from JS side to C/C++ side to an argument of type \"' + b + '\", which is outside the valid range [' + e + \", \" + f + \"]!\");\n            return l ? d >>> 0 : d | 0;\n          },\n          argPackAdvance: 8,\n          readValueFromPointer: qb(b, k, 0 !== e),\n          Ob: null\n        });\n      },\n      o: function o(a, b, d) {\n        function e(a) {\n          a >>= 2;\n          var b = _F;\n          return new f(b.buffer, b[a + 1], b[a]);\n        }\n\n        var f = [Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array][b];\n        d = N(d);\n        M(a, {\n          name: d,\n          fromWireType: e,\n          argPackAdvance: 8,\n          readValueFromPointer: e\n        }, {\n          cc: !0\n        });\n      },\n      F: function F(a, b) {\n        b = N(b);\n        var d = \"std::string\" === b;\n        M(a, {\n          name: b,\n          fromWireType: function fromWireType(a) {\n            var b = _F[a >> 2];\n\n            if (d) {\n              var e = C[a + 4 + b],\n                  k = 0;\n              0 != e && (k = e, C[a + 4 + b] = 0);\n              var h = a + 4;\n\n              for (e = 0; e <= b; ++e) {\n                var l = a + 4 + e;\n\n                if (0 == C[l]) {\n                  h = B(h);\n                  if (void 0 === m) var m = h;else m += String.fromCharCode(0), m += h;\n                  h = l + 1;\n                }\n              }\n\n              0 != k && (C[a + 4 + b] = k);\n            } else {\n              m = Array(b);\n\n              for (e = 0; e < b; ++e) {\n                m[e] = String.fromCharCode(C[a + 4 + e]);\n              }\n\n              m = m.join(\"\");\n            }\n\n            S(a);\n            return m;\n          },\n          toWireType: function toWireType(a, b) {\n            b instanceof ArrayBuffer && (b = new Uint8Array(b));\n            var e = \"string\" === typeof b;\n            e || b instanceof Uint8Array || b instanceof Uint8ClampedArray || b instanceof Int8Array || O(\"Cannot pass non-string to std::string\");\n            var f = (d && e ? function () {\n              for (var a = 0, d = 0; d < b.length; ++d) {\n                var e = b.charCodeAt(d);\n                55296 <= e && 57343 >= e && (e = 65536 + ((e & 1023) << 10) | b.charCodeAt(++d) & 1023);\n                127 >= e ? ++a : a = 2047 >= e ? a + 2 : 65535 >= e ? a + 3 : a + 4;\n              }\n\n              return a;\n            } : function () {\n              return b.length;\n            })(),\n                h = uc(4 + f + 1);\n            _F[h >> 2] = f;\n            if (d && e) ka(b, h + 4, f + 1);else if (e) for (e = 0; e < f; ++e) {\n              var l = b.charCodeAt(e);\n              255 < l && (S(h), O(\"String has UTF-16 code units that do not fit in 8 bits\"));\n              C[h + 4 + e] = l;\n            } else for (e = 0; e < f; ++e) {\n              C[h + 4 + e] = b[e];\n            }\n            null !== a && a.push(S, h);\n            return h;\n          },\n          argPackAdvance: 8,\n          readValueFromPointer: Ua,\n          Ob: function Ob(a) {\n            S(a);\n          }\n        });\n      },\n      _: function _(a, b, d) {\n        d = N(d);\n\n        if (2 === b) {\n          var e = function e() {\n            return ra;\n          };\n\n          var f = 1;\n        } else 4 === b && (e = function e() {\n          return _F;\n        }, f = 2);\n\n        M(a, {\n          name: d,\n          fromWireType: function fromWireType(a) {\n            for (var b = e(), d = _F[a >> 2], g = Array(d), m = a + 4 >> f, t = 0; t < d; ++t) {\n              g[t] = String.fromCharCode(b[m + t]);\n            }\n\n            S(a);\n            return g.join(\"\");\n          },\n          toWireType: function toWireType(a, d) {\n            var g = e(),\n                k = d.length,\n                m = uc(4 + k * b);\n            _F[m >> 2] = k;\n\n            for (var t = m + 4 >> f, q = 0; q < k; ++q) {\n              g[t + q] = d.charCodeAt(q);\n            }\n\n            null !== a && a.push(S, m);\n            return m;\n          },\n          argPackAdvance: 8,\n          readValueFromPointer: Ua,\n          Ob: function Ob(a) {\n            S(a);\n          }\n        });\n      },\n      E: function E(a, b, d, e, f, g) {\n        Sa[a] = {\n          name: N(b),\n          fc: lb(d, e),\n          gc: lb(f, g),\n          Ub: []\n        };\n      },\n      t: function t(a, b, d, e, f, g, k, h, l, m) {\n        Sa[a].Ub.push({\n          Yb: N(b),\n          ac: d,\n          Zb: lb(e, f),\n          $b: g,\n          ic: k,\n          hc: lb(h, l),\n          jc: m\n        });\n      },\n      Z: function Z(a, b) {\n        b = N(b);\n        M(a, {\n          dc: !0,\n          name: b,\n          argPackAdvance: 0,\n          fromWireType: function fromWireType() {},\n          toWireType: function toWireType() {}\n        });\n      },\n      i: function i(a, b, d) {\n        a = T(a);\n        b = rb(b, \"emval::as\");\n        var e = [],\n            f = R(e);\n        E[d >> 2] = f;\n        return b.toWireType(e, a);\n      },\n      m: function m(a, b, d, e) {\n        a = ub[a];\n        b = T(b);\n        d = tb(d);\n        a(b, d, null, e);\n      },\n      c: eb,\n      l: function l(a, b) {\n        b = wb(a, b);\n\n        for (var d = b[0], e = d.name + \"_$\" + b.slice(1).map(function (a) {\n          return a.name;\n        }).join(\"_\") + \"$\", f = [\"retType\"], g = [d], k = \"\", h = 0; h < a - 1; ++h) {\n          k += (0 !== h ? \", \" : \"\") + \"arg\" + h, f.push(\"argType\" + h), g.push(b[1 + h]);\n        }\n\n        e = \"return function \" + Wa(\"methodCaller_\" + e) + \"(handle, name, destructors, args) {\\n\";\n        var l = 0;\n\n        for (h = 0; h < a - 1; ++h) {\n          e += \"    var arg\" + h + \" = argType\" + h + \".readValueFromPointer(args\" + (l ? \"+\" + l : \"\") + \");\\n\", l += b[h + 1].argPackAdvance;\n        }\n\n        e += \"    var rv = handle[name](\" + k + \");\\n\";\n\n        for (h = 0; h < a - 1; ++h) {\n          b[h + 1].deleteObject && (e += \"    argType\" + h + \".deleteObject(arg\" + h + \");\\n\");\n        }\n\n        d.dc || (e += \"    return retType.toWireType(destructors, rv);\\n\");\n        f.push(e + \"};\\n\");\n        a = hb(f).apply(null, g);\n        return vb(a);\n      },\n      g: function g(a, b) {\n        a = T(a);\n        b = T(b);\n        return R(a[b]);\n      },\n      u: function u(a) {\n        4 < a && (P[a].Tb += 1);\n      },\n      r: function r() {\n        return R([]);\n      },\n      e: function e(a) {\n        return R(tb(a));\n      },\n      q: function q() {\n        return R({});\n      },\n      h: function h(a) {\n        Ta(P[a].value);\n        eb(a);\n      },\n      f: function f(a, b, d) {\n        a = T(a);\n        b = T(b);\n        d = T(d);\n        a[b] = d;\n      },\n      d: function d(a, b) {\n        a = rb(a, \"_emval_take_value\");\n        a = a.readValueFromPointer(b);\n        return R(a);\n      },\n      X: function X() {\n        c.abort();\n      },\n      C: function C(a) {\n        return Ma[a]();\n      },\n      W: function W(a, b, d, e, f, g, k, h, l, m, t, q) {\n        return Ma[a](b, d, e, f, g, k, h, l, m, t, q);\n      },\n      B: function B(a) {\n        (a = Y[a]) && a.abort();\n      },\n      V: jc,\n      n: V,\n      A: function A(a, b, d, e, f) {\n        oc(B(a), B(b), function (a, b) {\n          a ? f && vc(f, d) : (a = uc(b.length), C.set(b, a), wc(e, d, a, b.length), S(a));\n        });\n      },\n      U: function U(a, b, d, e, f, g, k) {\n        pc(B(a), B(b), new Uint8Array(C.subarray(d, d + e)), function (a) {\n          a ? k && vc(k, f) : g && vc(g, f);\n        });\n      },\n      T: function T(a, b, d) {\n        C.set(C.subarray(b, b + d), a);\n      },\n      S: function S(a) {\n        if (2147418112 < a) return !1;\n\n        for (var b = Math.max(jc(), 16777216); b < a;) {\n          536870912 >= b ? b = pa(2 * b) : b = Math.min(pa((3 * b + 2147483648) / 4), 2147418112);\n        }\n\n        if (!rc(b)) return !1;\n        ua();\n        return !0;\n      },\n      R: qc,\n      Q: function Q(a) {\n        a = new Date(1E3 * E[a >> 2]);\n        E[4344] = a.getUTCSeconds();\n        E[4345] = a.getUTCMinutes();\n        E[4346] = a.getUTCHours();\n        E[4347] = a.getUTCDate();\n        E[4348] = a.getUTCMonth();\n        E[4349] = a.getUTCFullYear() - 1900;\n        E[4350] = a.getUTCDay();\n        E[4353] = 0;\n        E[4352] = 0;\n        E[4351] = (a.getTime() - Date.UTC(a.getUTCFullYear(), 0, 1, 0, 0, 0, 0)) / 864E5 | 0;\n        E[4354] = 17424;\n        return 17376;\n      },\n      P: function P() {\n        z(\"trap!\");\n      },\n      O: function O(a) {\n        var b = Date.now() / 1E3 | 0;\n        a && (E[a >> 2] = b);\n        return b;\n      },\n      N: function N() {\n        z(\"OOM\");\n      },\n      a: 17520,\n      b: 17360\n    }, D);\n    c.asm = xc;\n\n    c._UmbraAssetLoadAbortRequested = function () {\n      return c.asm.fa.apply(null, arguments);\n    };\n\n    c._UmbraAssetLoadFinish = function () {\n      return c.asm.ga.apply(null, arguments);\n    };\n\n    c._UmbraAssetLoadGetType = function () {\n      return c.asm.ha.apply(null, arguments);\n    };\n\n    c._UmbraAssetLoadPrepare = function () {\n      return c.asm.ia.apply(null, arguments);\n    };\n\n    c._UmbraAssetUnloadFinish = function () {\n      return c.asm.ja.apply(null, arguments);\n    };\n\n    c._UmbraAssetUnloadGetType = function () {\n      return c.asm.ka.apply(null, arguments);\n    };\n\n    c._UmbraAssetUnloadGetUserPointer = function () {\n      return c.asm.la.apply(null, arguments);\n    };\n\n    c._UmbraClientCreate = function () {\n      return c.asm.ma.apply(null, arguments);\n    };\n\n    c._UmbraClientDestroy = function () {\n      return c.asm.na.apply(null, arguments);\n    };\n\n    c._UmbraConfigInit = function () {\n      return c.asm.oa.apply(null, arguments);\n    };\n\n    c._UmbraEcefToGeodetic = function () {\n      return c.asm.pa.apply(null, arguments);\n    };\n\n    c._UmbraEnvironmentInfoDefaults = function () {\n      return c.asm.qa.apply(null, arguments);\n    };\n\n    c._UmbraGeodeticToEcef = function () {\n      return c.asm.ra.apply(null, arguments);\n    };\n\n    c._UmbraGetLibraryInfo = function () {\n      return c.asm.sa.apply(null, arguments);\n    };\n\n    c._UmbraMaterialLoadGetInfo = function () {\n      return c.asm.ta.apply(null, arguments);\n    };\n\n    c._UmbraMeshLoadFinishExternal = function () {\n      return c.asm.ua.apply(null, arguments);\n    };\n\n    c._UmbraMeshLoadGetData = function () {\n      return c.asm.va.apply(null, arguments);\n    };\n\n    c._UmbraMeshLoadGetInfo = function () {\n      return c.asm.wa.apply(null, arguments);\n    };\n\n    c._UmbraMeshLoadGetSerializedSize = function () {\n      return c.asm.xa.apply(null, arguments);\n    };\n\n    c._UmbraMeshLoadSerialize = function () {\n      return c.asm.ya.apply(null, arguments);\n    };\n\n    c._UmbraMeshStreamDone = function () {\n      return c.asm.za.apply(null, arguments);\n    };\n\n    c._UmbraMeshStreamNext = function () {\n      return c.asm.Aa.apply(null, arguments);\n    };\n\n    c._UmbraMeshStreamSetBuffers = function () {\n      return c.asm.Ba.apply(null, arguments);\n    };\n\n    c._UmbraRuntimeCreate = function () {\n      return c.asm.Ca.apply(null, arguments);\n    };\n\n    c._UmbraRuntimeDestroy = function () {\n      return c.asm.Da.apply(null, arguments);\n    };\n\n    c._UmbraRuntimeGetStreamingState = function () {\n      return c.asm.Ea.apply(null, arguments);\n    };\n\n    c._UmbraRuntimeNextAssetLoad = function () {\n      return c.asm.Fa.apply(null, arguments);\n    };\n\n    c._UmbraRuntimeNextAssetUnload = function () {\n      return c.asm.Ga.apply(null, arguments);\n    };\n\n    c._UmbraRuntimeUpdate = function () {\n      return c.asm.Ha.apply(null, arguments);\n    };\n\n    c._UmbraSceneCopyCreate = function () {\n      return c.asm.Ia.apply(null, arguments);\n    };\n\n    c._UmbraSceneCopyDestroy = function () {\n      return c.asm.Ja.apply(null, arguments);\n    };\n\n    c._UmbraSceneCopyGetError = function () {\n      return c.asm.Ka.apply(null, arguments);\n    };\n\n    c._UmbraSceneCopyGetStatus = function () {\n      return c.asm.La.apply(null, arguments);\n    };\n\n    c._UmbraSceneCreate = function () {\n      return c.asm.Ma.apply(null, arguments);\n    };\n\n    c._UmbraSceneCreateLocal = function () {\n      return c.asm.Na.apply(null, arguments);\n    };\n\n    c._UmbraSceneCreatePublic = function () {\n      return c.asm.Oa.apply(null, arguments);\n    };\n\n    c._UmbraSceneDestroy = function () {\n      return c.asm.Pa.apply(null, arguments);\n    };\n\n    c._UmbraSceneGetConnectionStatus = function () {\n      return c.asm.Qa.apply(null, arguments);\n    };\n\n    c._UmbraSceneGetInfo = function () {\n      return c.asm.Ra.apply(null, arguments);\n    };\n\n    c._UmbraSceneSetTransform = function () {\n      return c.asm.Sa.apply(null, arguments);\n    };\n\n    c._UmbraSendInternalMessage = function () {\n      return c.asm.Ta.apply(null, arguments);\n    };\n\n    c._UmbraSetAllocator = function () {\n      return c.asm.Ua.apply(null, arguments);\n    };\n\n    c._UmbraSetHttp = function () {\n      return c.asm.Va.apply(null, arguments);\n    };\n\n    c._UmbraSetLogger = function () {\n      return c.asm.Wa.apply(null, arguments);\n    };\n\n    c._UmbraTextureGetMipmapLevelByteSize = function () {\n      return c.asm.Xa.apply(null, arguments);\n    };\n\n    c._UmbraTextureGetMipmapLevelOffset = function () {\n      return c.asm.Ya.apply(null, arguments);\n    };\n\n    c._UmbraTextureLoadGetData = function () {\n      return c.asm.Za.apply(null, arguments);\n    };\n\n    c._UmbraTextureLoadGetInfo = function () {\n      return c.asm._a.apply(null, arguments);\n    };\n\n    c._UmbraTextureLoadGetSerializedSize = function () {\n      return c.asm.$a.apply(null, arguments);\n    };\n\n    c._UmbraTextureLoadSerialize = function () {\n      return c.asm.ab.apply(null, arguments);\n    };\n\n    c._UmbraTextureMetaDataGetClassification = function () {\n      return c.asm.bb.apply(null, arguments);\n    };\n\n    c._UmbraTextureMetaDataGetClassificationAmount = function () {\n      return c.asm.cb.apply(null, arguments);\n    };\n\n    c._UmbraTextureMetaDataGetClassificationCount = function () {\n      return c.asm.db.apply(null, arguments);\n    };\n\n    c._UmbraTextureMetaDataLoadGetData = function () {\n      return c.asm.eb.apply(null, arguments);\n    };\n\n    c._UmbraVertexAttributeGetElementByteSize = function () {\n      return c.asm.fb.apply(null, arguments);\n    };\n\n    c._UmbraViewCreate = function () {\n      return c.asm.gb.apply(null, arguments);\n    };\n\n    c._UmbraViewDestroy = function () {\n      return c.asm.hb.apply(null, arguments);\n    };\n\n    c._UmbraViewGetCompleted = function () {\n      return c.asm.ib.apply(null, arguments);\n    };\n\n    c._UmbraViewNextRenderables = function () {\n      return c.asm.jb.apply(null, arguments);\n    };\n\n    c._UmbraViewRayQuery = function () {\n      return c.asm.kb.apply(null, arguments);\n    };\n\n    c._UmbraViewResetRenderables = function () {\n      return c.asm.lb.apply(null, arguments);\n    };\n\n    c._UmbraViewUpdateFilter = function () {\n      return c.asm.mb.apply(null, arguments);\n    };\n\n    c._UmbraViewUpdateRendering = function () {\n      return c.asm.nb.apply(null, arguments);\n    };\n\n    c.___embind_register_native_and_builtin_types = function () {\n      return c.asm.ob.apply(null, arguments);\n    };\n\n    var ob = c.___getTypeName = function () {\n      return c.asm.pb.apply(null, arguments);\n    },\n        S = c._free = function () {\n      return c.asm.qb.apply(null, arguments);\n    },\n        uc = c._malloc = function () {\n      return c.asm.rb.apply(null, arguments);\n    },\n        Na = c.globalCtors = function () {\n      return c.asm.Jb.apply(null, arguments);\n    },\n        ja = c.stackAlloc = function () {\n      return c.asm.Kb.apply(null, arguments);\n    },\n        ma = c.stackRestore = function () {\n      return c.asm.Lb.apply(null, arguments);\n    },\n        la = c.stackSave = function () {\n      return c.asm.Mb.apply(null, arguments);\n    };\n\n    c.dynCall_i = function () {\n      return c.asm.sb.apply(null, arguments);\n    };\n\n    c.dynCall_ii = function () {\n      return c.asm.tb.apply(null, arguments);\n    };\n\n    c.dynCall_iii = function () {\n      return c.asm.ub.apply(null, arguments);\n    };\n\n    c.dynCall_iiii = function () {\n      return c.asm.vb.apply(null, arguments);\n    };\n\n    c.dynCall_iiiii = function () {\n      return c.asm.wb.apply(null, arguments);\n    };\n\n    c.dynCall_iiiiii = function () {\n      return c.asm.xb.apply(null, arguments);\n    };\n\n    c.dynCall_iiiiiiiiii = function () {\n      return c.asm.yb.apply(null, arguments);\n    };\n\n    c.dynCall_iiiji = function () {\n      return c.asm.zb.apply(null, arguments);\n    };\n\n    c.dynCall_jiji = function () {\n      return c.asm.Ab.apply(null, arguments);\n    };\n\n    c.dynCall_v = function () {\n      return c.asm.Bb.apply(null, arguments);\n    };\n\n    var vc = c.dynCall_vi = function () {\n      return c.asm.Cb.apply(null, arguments);\n    };\n\n    c.dynCall_vii = function () {\n      return c.asm.Db.apply(null, arguments);\n    };\n\n    var wc = c.dynCall_viii = function () {\n      return c.asm.Eb.apply(null, arguments);\n    };\n\n    c.dynCall_viiii = function () {\n      return c.asm.Fb.apply(null, arguments);\n    };\n\n    c.dynCall_viiiii = function () {\n      return c.asm.Gb.apply(null, arguments);\n    };\n\n    c.dynCall_viiiiii = function () {\n      return c.asm.Hb.apply(null, arguments);\n    };\n\n    c.dynCall_viiiiiiiii = function () {\n      return c.asm.Ib.apply(null, arguments);\n    };\n\n    c.asm = xc;\n\n    c.cwrap = function (a, b, d, e) {\n      d = d || [];\n      var f = d.every(function (a) {\n        return \"number\" === a;\n      });\n      return \"string\" !== b && f && !e ? ha(a) : function () {\n        return ia(a, b, d, arguments);\n      };\n    };\n\n    c.then = function (a) {\n      if (c.calledRun) a(c);else {\n        var b = c.onRuntimeInitialized;\n\n        c.onRuntimeInitialized = function () {\n          b && b();\n          a(c);\n        };\n      }\n      return c;\n    };\n\n    function Lb(a) {\n      this.name = \"ExitStatus\";\n      this.message = \"Program terminated with exit(\" + a + \")\";\n      this.status = a;\n    }\n\n    Lb.prototype = Error();\n    Lb.prototype.constructor = Lb;\n\n    Fa = function yc() {\n      c.calledRun || zc();\n      c.calledRun || (Fa = yc);\n    };\n\n    function zc() {\n      function a() {\n        if (!c.calledRun && (c.calledRun = !0, !x)) {\n          wa(za);\n          wa(Aa);\n          if (c.onRuntimeInitialized) c.onRuntimeInitialized();\n          if (c.postRun) for (\"function\" == typeof c.postRun && (c.postRun = [c.postRun]); c.postRun.length;) {\n            var a = c.postRun.shift();\n            Ca.unshift(a);\n          }\n          wa(Ca);\n        }\n      }\n\n      if (!(0 < G)) {\n        if (c.preRun) for (\"function\" == typeof c.preRun && (c.preRun = [c.preRun]); c.preRun.length;) {\n          Da();\n        }\n        wa(xa);\n        0 < G || c.calledRun || (c.setStatus ? (c.setStatus(\"Running...\"), setTimeout(function () {\n          setTimeout(function () {\n            c.setStatus(\"\");\n          }, 1);\n          a();\n        }, 1)) : a());\n      }\n    }\n\n    c.run = zc;\n\n    function z(a) {\n      if (c.onAbort) c.onAbort(a);\n      ba(a);\n      v(a);\n      x = !0;\n      throw \"abort(\" + a + \"). Build with -s ASSERTIONS=1 for more info.\";\n    }\n\n    c.abort = z;\n    if (c.preInit) for (\"function\" == typeof c.preInit && (c.preInit = [c.preInit]); 0 < c.preInit.length;) {\n      c.preInit.pop()();\n    }\n    zc();\n    c.maxBytesDownloaded = 0;\n    c.minBytesDownloaded = 0;\n    c.URLsDownloaded = new Set([]);\n    c.wgetRequests = Y;\n\n    function La(a, b, d, e, f, g, k, h, l, m, t) {\n      var q = B(a);\n      b = B(b);\n      g = B(g);\n      var r = new XMLHttpRequest();\n      r.open(b, q, !0);\n      if (\"GET\" != b || 0 != g.length) r.withCredentials = !0;\n      r.responseType = \"arraybuffer\";\n      var y = ic();\n\n      r.onload = function () {\n        if (200 == r.status) {\n          var b = new Uint8Array(r.response),\n              g = c.URLsDownloaded;\n          c.maxBytesDownloaded += r.response.byteLength;\n          g.has(a) || (g.add(a), c.minBytesDownloaded += r.response.byteLength);\n          m ? b.length != t ? c.dynCall_viii(f, y, d, 0) : (C.set(b, m), c.dynCall_viiii(e, y, d, null, 0)) : (g = uc(b.length), C.set(b, g), c.dynCall_viiii(e, y, d, g, b.length), S(g));\n        } else c.dynCall_viii(f, y, d, r.status);\n\n        delete Y[y];\n      };\n\n      r.onerror = function () {\n        c.dynCall_viii(f, y, d, r.status);\n        delete Y[y];\n      };\n\n      r.onabort = function () {\n        delete Y[y];\n      };\n\n      0 != g.length && r.setRequestHeader(\"Authorization\", \"Basic \" + btoa(g + \":\"));\n      l = B(l).split(\"\\n\");\n      if (2 <= l.length) for (q = 0; q < l.length; q += 2) {\n        r.setRequestHeader(l[q], l[q + 1]);\n      }\n      \"POST\" == b ? r.send(A.slice(k, k + h)) : r.send(null);\n      Y[y] = r;\n      return y;\n    }\n    return UmbraNativeAPI;\n  };\n}();\n\n// Generated at 2020-08-18 15:23:39\nvar MatrixFormat;\n\n(function (MatrixFormat) {\n  MatrixFormat[MatrixFormat[\"ColumnMajor\"] = 0] = \"ColumnMajor\";\n  MatrixFormat[MatrixFormat[\"RowMajor\"] = 1] = \"RowMajor\";\n  MatrixFormat[MatrixFormat[\"Count\"] = 2] = \"Count\";\n})(MatrixFormat || (MatrixFormat = {}));\n\nvar TextureType;\n\n(function (TextureType) {\n  TextureType[TextureType[\"Diffuse\"] = 0] = \"Diffuse\";\n  TextureType[TextureType[\"Normal\"] = 1] = \"Normal\";\n  TextureType[TextureType[\"Specular\"] = 2] = \"Specular\";\n  TextureType[TextureType[\"MetaIndex\"] = 3] = \"MetaIndex\";\n  TextureType[TextureType[\"Count\"] = 4] = \"Count\";\n})(TextureType || (TextureType = {}));\n\nvar TextureFormat;\n\n(function (TextureFormat) {\n  TextureFormat[TextureFormat[\"RGBA32\"] = 0] = \"RGBA32\";\n  TextureFormat[TextureFormat[\"RGB24\"] = 1] = \"RGB24\";\n  TextureFormat[TextureFormat[\"BC1\"] = 2] = \"BC1\";\n  TextureFormat[TextureFormat[\"BC3\"] = 3] = \"BC3\";\n  TextureFormat[TextureFormat[\"BC4\"] = 4] = \"BC4\";\n  TextureFormat[TextureFormat[\"BC5\"] = 5] = \"BC5\";\n  TextureFormat[TextureFormat[\"ETC1_RGB\"] = 6] = \"ETC1_RGB\";\n  TextureFormat[TextureFormat[\"RGBA_FLOAT32\"] = 7] = \"RGBA_FLOAT32\";\n  TextureFormat[TextureFormat[\"UNC1\"] = 8] = \"UNC1\";\n  TextureFormat[TextureFormat[\"JPEG\"] = 9] = \"JPEG\";\n  TextureFormat[TextureFormat[\"PNG\"] = 10] = \"PNG\";\n  TextureFormat[TextureFormat[\"BMP\"] = 11] = \"BMP\";\n  TextureFormat[TextureFormat[\"PSD\"] = 12] = \"PSD\";\n  TextureFormat[TextureFormat[\"TGA\"] = 13] = \"TGA\";\n  TextureFormat[TextureFormat[\"GIF\"] = 14] = \"GIF\";\n  TextureFormat[TextureFormat[\"HDR\"] = 15] = \"HDR\";\n  TextureFormat[TextureFormat[\"PIC\"] = 16] = \"PIC\";\n  TextureFormat[TextureFormat[\"PNM\"] = 17] = \"PNM\";\n  TextureFormat[TextureFormat[\"ASTC_4X4\"] = 18] = \"ASTC_4X4\";\n  TextureFormat[TextureFormat[\"ASTC_5X4\"] = 19] = \"ASTC_5X4\";\n  TextureFormat[TextureFormat[\"ASTC_5X5\"] = 20] = \"ASTC_5X5\";\n  TextureFormat[TextureFormat[\"ASTC_6X5\"] = 21] = \"ASTC_6X5\";\n  TextureFormat[TextureFormat[\"ASTC_6X6\"] = 22] = \"ASTC_6X6\";\n  TextureFormat[TextureFormat[\"ASTC_8X5\"] = 23] = \"ASTC_8X5\";\n  TextureFormat[TextureFormat[\"ASTC_8X6\"] = 24] = \"ASTC_8X6\";\n  TextureFormat[TextureFormat[\"ASTC_10X5\"] = 25] = \"ASTC_10X5\";\n  TextureFormat[TextureFormat[\"ASTC_10X6\"] = 26] = \"ASTC_10X6\";\n  TextureFormat[TextureFormat[\"ASTC_8X8\"] = 27] = \"ASTC_8X8\";\n  TextureFormat[TextureFormat[\"ASTC_10X8\"] = 28] = \"ASTC_10X8\";\n  TextureFormat[TextureFormat[\"ASTC_10X10\"] = 29] = \"ASTC_10X10\";\n  TextureFormat[TextureFormat[\"ASTC_12X10\"] = 30] = \"ASTC_12X10\";\n  TextureFormat[TextureFormat[\"ASTC_12X12\"] = 31] = \"ASTC_12X12\";\n  TextureFormat[TextureFormat[\"ARGB32\"] = 32] = \"ARGB32\";\n  TextureFormat[TextureFormat[\"R8\"] = 33] = \"R8\";\n  TextureFormat[TextureFormat[\"PVRTC1_RGB4\"] = 34] = \"PVRTC1_RGB4\";\n  TextureFormat[TextureFormat[\"PVRTC1_RGBA4\"] = 35] = \"PVRTC1_RGBA4\";\n  TextureFormat[TextureFormat[\"UINT8\"] = 36] = \"UINT8\";\n  TextureFormat[TextureFormat[\"UINT16\"] = 37] = \"UINT16\";\n  TextureFormat[TextureFormat[\"UINT32\"] = 38] = \"UINT32\";\n  TextureFormat[TextureFormat[\"RGB565\"] = 39] = \"RGB565\";\n  TextureFormat[TextureFormat[\"RG8\"] = 40] = \"RG8\";\n  TextureFormat[TextureFormat[\"RG16F\"] = 41] = \"RG16F\";\n  TextureFormat[TextureFormat[\"OPENEXR\"] = 42] = \"OPENEXR\";\n  TextureFormat[TextureFormat[\"RGBA_FLOAT16\"] = 43] = \"RGBA_FLOAT16\";\n  TextureFormat[TextureFormat[\"RGB_FLOAT16\"] = 44] = \"RGB_FLOAT16\";\n  TextureFormat[TextureFormat[\"RGB_FLOAT32\"] = 45] = \"RGB_FLOAT32\";\n  TextureFormat[TextureFormat[\"BC6H\"] = 46] = \"BC6H\";\n  TextureFormat[TextureFormat[\"BC7\"] = 47] = \"BC7\";\n  TextureFormat[TextureFormat[\"Count\"] = 48] = \"Count\";\n})(TextureFormat || (TextureFormat = {}));\n\nvar ColorSpace;\n\n(function (ColorSpace) {\n  ColorSpace[ColorSpace[\"Linear\"] = 0] = \"Linear\";\n  ColorSpace[ColorSpace[\"SRGB\"] = 1] = \"SRGB\";\n  ColorSpace[ColorSpace[\"Count\"] = 2] = \"Count\";\n})(ColorSpace || (ColorSpace = {}));\n\nvar VertexAttribute;\n\n(function (VertexAttribute) {\n  VertexAttribute[VertexAttribute[\"Position\"] = 0] = \"Position\";\n  VertexAttribute[VertexAttribute[\"TextureCoordinate\"] = 1] = \"TextureCoordinate\";\n  VertexAttribute[VertexAttribute[\"Normal\"] = 2] = \"Normal\";\n  VertexAttribute[VertexAttribute[\"Tangent\"] = 3] = \"Tangent\";\n  VertexAttribute[VertexAttribute[\"Count\"] = 4] = \"Count\";\n})(VertexAttribute || (VertexAttribute = {}));\n\nvar BufferFlags;\n\n(function (BufferFlags) {\n  BufferFlags[BufferFlags[\"UncachedMemory\"] = 1] = \"UncachedMemory\";\n})(BufferFlags || (BufferFlags = {}));\n\nvar LogLevel;\n\n(function (LogLevel) {\n  LogLevel[LogLevel[\"Debug\"] = 0] = \"Debug\";\n  LogLevel[LogLevel[\"Info\"] = 1] = \"Info\";\n  LogLevel[LogLevel[\"Warning\"] = 2] = \"Warning\";\n  LogLevel[LogLevel[\"Error\"] = 3] = \"Error\";\n  LogLevel[LogLevel[\"Count\"] = 4] = \"Count\";\n})(LogLevel || (LogLevel = {}));\n\nvar TransferStatus;\n\n(function (TransferStatus) {\n  TransferStatus[TransferStatus[\"Inactive\"] = 0] = \"Inactive\";\n  TransferStatus[TransferStatus[\"Active\"] = 1] = \"Active\";\n  TransferStatus[TransferStatus[\"Complete\"] = 2] = \"Complete\";\n  TransferStatus[TransferStatus[\"Error\"] = 3] = \"Error\";\n  TransferStatus[TransferStatus[\"Count\"] = 4] = \"Count\";\n})(TransferStatus || (TransferStatus = {}));\n\nvar HeaderError;\n\n(function (HeaderError) {\n  HeaderError[HeaderError[\"Found\"] = 0] = \"Found\";\n  HeaderError[HeaderError[\"Not_Found\"] = 1] = \"Not_Found\";\n  HeaderError[HeaderError[\"Transfer_Not_Complete\"] = 2] = \"Transfer_Not_Complete\";\n  HeaderError[HeaderError[\"Buffer_Too_Small\"] = 3] = \"Buffer_Too_Small\";\n  HeaderError[HeaderError[\"Count\"] = 4] = \"Count\";\n})(HeaderError || (HeaderError = {}));\n\nvar HttpMethod;\n\n(function (HttpMethod) {\n  HttpMethod[HttpMethod[\"Get\"] = 0] = \"Get\";\n  HttpMethod[HttpMethod[\"Post\"] = 1] = \"Post\";\n  HttpMethod[HttpMethod[\"Put\"] = 2] = \"Put\";\n  HttpMethod[HttpMethod[\"Delete\"] = 3] = \"Delete\";\n  HttpMethod[HttpMethod[\"Count\"] = 4] = \"Count\";\n})(HttpMethod || (HttpMethod = {}));\n\nvar LibraryInfo;\n\n(function (LibraryInfo) {\n  LibraryInfo[LibraryInfo[\"Version\"] = 0] = \"Version\";\n  LibraryInfo[LibraryInfo[\"Copyright\"] = 1] = \"Copyright\";\n  LibraryInfo[LibraryInfo[\"BuildTime\"] = 2] = \"BuildTime\";\n  LibraryInfo[LibraryInfo[\"BuildId\"] = 3] = \"BuildId\";\n  LibraryInfo[LibraryInfo[\"Count\"] = 4] = \"Count\";\n})(LibraryInfo || (LibraryInfo = {}));\n\nvar InvalidUserPointer;\n\n(function (InvalidUserPointer) {\n  InvalidUserPointer[InvalidUserPointer[\"InvalidUserPointer\"] = 0] = \"InvalidUserPointer\";\n})(InvalidUserPointer || (InvalidUserPointer = {}));\n\nvar TextureSupportFlags;\n\n(function (TextureSupportFlags) {\n  TextureSupportFlags[TextureSupportFlags[\"None\"] = 0] = \"None\";\n  TextureSupportFlags[TextureSupportFlags[\"BC1\"] = 1] = \"BC1\";\n  TextureSupportFlags[TextureSupportFlags[\"BC2\"] = 2] = \"BC2\";\n  TextureSupportFlags[TextureSupportFlags[\"BC3\"] = 4] = \"BC3\";\n  TextureSupportFlags[TextureSupportFlags[\"BC4\"] = 8] = \"BC4\";\n  TextureSupportFlags[TextureSupportFlags[\"BC5\"] = 16] = \"BC5\";\n  TextureSupportFlags[TextureSupportFlags[\"BC6H\"] = 32] = \"BC6H\";\n  TextureSupportFlags[TextureSupportFlags[\"BC7\"] = 64] = \"BC7\";\n  TextureSupportFlags[TextureSupportFlags[\"ASTC\"] = 128] = \"ASTC\";\n  TextureSupportFlags[TextureSupportFlags[\"ETC1\"] = 256] = \"ETC1\";\n  TextureSupportFlags[TextureSupportFlags[\"ETC2\"] = 512] = \"ETC2\";\n  TextureSupportFlags[TextureSupportFlags[\"EAC_R\"] = 1024] = \"EAC_R\";\n  TextureSupportFlags[TextureSupportFlags[\"EAC_RG\"] = 2048] = \"EAC_RG\";\n  TextureSupportFlags[TextureSupportFlags[\"PVRTC1\"] = 4096] = \"PVRTC1\";\n  TextureSupportFlags[TextureSupportFlags[\"PVRTC2\"] = 8192] = \"PVRTC2\";\n  TextureSupportFlags[TextureSupportFlags[\"ATC\"] = 16384] = \"ATC\";\n  TextureSupportFlags[TextureSupportFlags[\"HalfFloat\"] = 32768] = \"HalfFloat\";\n  TextureSupportFlags[TextureSupportFlags[\"Float\"] = 65536] = \"Float\";\n  TextureSupportFlags[TextureSupportFlags[\"All\"] = 2147483647] = \"All\";\n})(TextureSupportFlags || (TextureSupportFlags = {}));\n\nvar RuntimeFlags;\n\n(function (RuntimeFlags) {\n  RuntimeFlags[RuntimeFlags[\"NeverUnload\"] = 1] = \"NeverUnload\";\n  RuntimeFlags[RuntimeFlags[\"ExclusiveRendering\"] = 2] = \"ExclusiveRendering\";\n  RuntimeFlags[RuntimeFlags[\"EnableRayQueries\"] = 4] = \"EnableRayQueries\";\n})(RuntimeFlags || (RuntimeFlags = {}));\n\nvar ConnectionStatus;\n\n(function (ConnectionStatus) {\n  ConnectionStatus[ConnectionStatus[\"Connected\"] = 0] = \"Connected\";\n  ConnectionStatus[ConnectionStatus[\"Connecting\"] = 1] = \"Connecting\";\n  ConnectionStatus[ConnectionStatus[\"ConnectionError\"] = 2] = \"ConnectionError\";\n  ConnectionStatus[ConnectionStatus[\"Count\"] = 3] = \"Count\";\n})(ConnectionStatus || (ConnectionStatus = {}));\n\nvar DepthRange;\n\n(function (DepthRange) {\n  DepthRange[DepthRange[\"ZeroToOne\"] = 0] = \"ZeroToOne\";\n  DepthRange[DepthRange[\"MinusOneToOne\"] = 1] = \"MinusOneToOne\";\n  DepthRange[DepthRange[\"Count\"] = 2] = \"Count\";\n})(DepthRange || (DepthRange = {}));\n\nvar FilterShapeType;\n\n(function (FilterShapeType) {\n  FilterShapeType[FilterShapeType[\"Sphere\"] = 0] = \"Sphere\";\n  FilterShapeType[FilterShapeType[\"Cylinder\"] = 1] = \"Cylinder\";\n  FilterShapeType[FilterShapeType[\"None\"] = 2] = \"None\";\n  FilterShapeType[FilterShapeType[\"Count\"] = 3] = \"Count\";\n})(FilterShapeType || (FilterShapeType = {}));\n\nvar SceneCopyStatus;\n\n(function (SceneCopyStatus) {\n  SceneCopyStatus[SceneCopyStatus[\"InProgress\"] = 0] = \"InProgress\";\n  SceneCopyStatus[SceneCopyStatus[\"Done\"] = 1] = \"Done\";\n  SceneCopyStatus[SceneCopyStatus[\"Error\"] = 2] = \"Error\";\n  SceneCopyStatus[SceneCopyStatus[\"Count\"] = 3] = \"Count\";\n})(SceneCopyStatus || (SceneCopyStatus = {}));\n\nvar SceneCopyDestinationType;\n\n(function (SceneCopyDestinationType) {\n  SceneCopyDestinationType[SceneCopyDestinationType[\"File\"] = 0] = \"File\";\n  SceneCopyDestinationType[SceneCopyDestinationType[\"Directory\"] = 1] = \"Directory\";\n  SceneCopyDestinationType[SceneCopyDestinationType[\"Cloud\"] = 2] = \"Cloud\";\n  SceneCopyDestinationType[SceneCopyDestinationType[\"FormatObj\"] = 3] = \"FormatObj\";\n  SceneCopyDestinationType[SceneCopyDestinationType[\"Count\"] = 4] = \"Count\";\n})(SceneCopyDestinationType || (SceneCopyDestinationType = {}));\n\nvar SceneCopySourceType;\n\n(function (SceneCopySourceType) {\n  SceneCopySourceType[SceneCopySourceType[\"Directory\"] = 0] = \"Directory\";\n  SceneCopySourceType[SceneCopySourceType[\"Cloud\"] = 1] = \"Cloud\";\n  SceneCopySourceType[SceneCopySourceType[\"Count\"] = 2] = \"Count\";\n})(SceneCopySourceType || (SceneCopySourceType = {}));\n\nvar AssetType;\n\n(function (AssetType) {\n  AssetType[AssetType[\"Material\"] = 0] = \"Material\";\n  AssetType[AssetType[\"Texture\"] = 1] = \"Texture\";\n  AssetType[AssetType[\"Mesh\"] = 2] = \"Mesh\";\n  AssetType[AssetType[\"Count\"] = 3] = \"Count\";\n})(AssetType || (AssetType = {}));\n\nvar AssetLoadResult;\n\n(function (AssetLoadResult) {\n  AssetLoadResult[AssetLoadResult[\"Failure\"] = 0] = \"Failure\";\n  AssetLoadResult[AssetLoadResult[\"OutOfMemory\"] = 1] = \"OutOfMemory\";\n  AssetLoadResult[AssetLoadResult[\"Aborted\"] = 2] = \"Aborted\";\n  AssetLoadResult[AssetLoadResult[\"Success\"] = 3] = \"Success\";\n  AssetLoadResult[AssetLoadResult[\"Count\"] = 4] = \"Count\";\n})(AssetLoadResult || (AssetLoadResult = {}));\n\nvar RayQueryFlags;\n\n(function (RayQueryFlags) {\n  RayQueryFlags[RayQueryFlags[\"BackfaceCulling\"] = 1] = \"BackfaceCulling\";\n})(RayQueryFlags || (RayQueryFlags = {}));\n\n\n\nvar Assets = /*#__PURE__*/Object.freeze({\n  get AssetType () { return AssetType; },\n  get AssetLoadResult () { return AssetLoadResult; }\n});\n\nvar MAX_LIGHTS = 32;\nvar arrayNameToHeapName = new Map([['Int8Array', 'HEAP8'], ['Int16Array', 'HEAP16'], ['Int32Array', 'HEAP32'], ['Uint8Array', 'HEAPU8'], ['Uint16Array', 'HEAPU16'], ['Uint32Array', 'HEAPU32'], ['Float32Array', 'HEAPF32'], ['Float64Array', 'HEAPF64']]); // gl.texImage2D expects these texture \"type\" and TypedArrayView combinations.\n// See https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texImage2D\n\nvar textureFormatToArrayType = new Map([[TextureFormat.RGB565, Uint16Array], [TextureFormat.RGBA32, Uint8Array], [TextureFormat.RG8, Uint8Array], [TextureFormat.RG16F, Uint16Array], [TextureFormat.RGB_FLOAT32, Float32Array], [TextureFormat.RGB24, Uint8Array], [TextureFormat.UINT32, Uint32Array]]);\n\nfunction assertInteger(x) {\n  if (!Number.isInteger(x)) {\n    throw new Error('Value was not integer: ' + x.toString());\n  }\n}\n/**\n * We need to use a factory here since the native API classes depend on the Emscripten generated wasm code\n * that can't be loaded as a regular ES6 module. The \"Module\" object allows access to C++ functions and the\n * Emscripten heap.\n */\n\n\nvar create = function create(Module) {\n  /**\n   * A Buffer is a block of memory in the Emscripten heap. Typed arrays may get detached when Emscripten\n   * memory growth happens, so any JS code that wants to read from the heap needs to create its typed views\n   * right before they are used.\n   *\n   * The views are safe to use during synchronous execution, but for example a 'yield' in a generator may\n   * trigger memory growth before the caller gets the returned value.\n   */\n  class Buffer {\n    constructor(size) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Float32Array;\n      this.ofs = void 0;\n      this.size = void 0;\n      this.type = void 0;\n      assertInteger(size / type.BYTES_PER_ELEMENT);\n\n      if (size === 0) {\n        throw new Error('Buffer size was zero');\n      }\n\n      this.ofs = Module._malloc(size);\n\n      if (this.ofs === 0) {\n        throw new Error(\"Allocation of \".concat(size, \" bytes failed.\"));\n      }\n\n      this.size = size; // In bytes\n\n      this.type = type;\n    }\n\n    destroy() {\n      Module._free(this.ofs);\n\n      this.ofs = 0;\n      this.size = 0;\n    }\n    /**\n     * A destructive resize operation that never shrinks the buffer.\n     * NOTE: Does *not* copy the old data over.\n     */\n\n\n    ensureSize(newSize) {\n      if (this.size < newSize) {\n        this.destroy();\n        this.ofs = Module._malloc(newSize);\n\n        if (this.ofs === 0) {\n          throw new Error(\"Buffer growth to \".concat(newSize, \" bytes failed.\"));\n        }\n\n        this.size = newSize;\n      }\n    }\n\n    floats() {\n      return new Float32Array(Module.HEAPF32.buffer, this.ofs, this.size / 4);\n    }\n\n    bytes() {\n      return new Uint8Array(Module.HEAPU8.buffer, this.ofs, this.size);\n    }\n\n  }\n\n  class BufferView {\n    constructor(buffer) {\n      var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var size = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : buffer.size;\n      var type = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : buffer.type;\n      this.ofs = void 0;\n      this.start = void 0;\n      this.size = void 0;\n      this.type = void 0;\n      this.heapName = void 0;\n      this.ofs = buffer.ofs;\n      this.start = start;\n      this.size = size;\n      this.type = type;\n\n      if (!arrayNameToHeapName.has(type.name)) {\n        console.error('BufferView got type', type);\n        throw new TypeError(\"BufferView constructor got invalid type '\".concat(type.name, \"'\"));\n      } else {\n        this.heapName = arrayNameToHeapName.get(type.name);\n      }\n    }\n\n    getArray() {\n      // eslint-disable-next-line new-cap\n      return new this.type(Module[this.heapName].buffer, this.ofs + this.start, this.size / this.type.BYTES_PER_ELEMENT);\n    }\n\n  } // Struct field offsets are required for zero-copy interop\n\n\n  var renderableStructOffsets = Module.getRenderableMemberOffsets();\n\n  function copyMat4(buf, elements) {\n    for (var i = 0; i < 16; i++) {\n      buf[i] = elements[i];\n    }\n  }\n\n  function copyVec3(buf, elements) {\n    buf[0] = elements[0];\n    buf[1] = elements[1];\n    buf[2] = elements[2];\n  }\n\n  class Client {\n    constructor() {\n      this.ptr = void 0;\n      this.configPtr = void 0;\n      this.configPtr = Module._malloc(Module.CONFIG_SIZE);\n      Module.configInit(this.configPtr);\n      this.ptr = Module.clientCreate('UmbraJS', this.configPtr);\n    }\n\n    destroy() {\n      Module.clientDestroy(this.ptr);\n\n      Module._free(this.configPtr);\n\n      this.ptr = 0;\n    }\n\n  }\n\n  class NativeScene {\n    constructor(ptr) {\n      this.ptr = void 0;\n      this.matrixBuffer = new Buffer(16 * 4);\n      this.infoBuffer = new Buffer(Module.sceneInfoSize);\n      this.ptr = ptr;\n    }\n\n    destroy() {\n      this.matrixBuffer.destroy();\n      this.infoBuffer.destroy();\n      Module.sceneDestroy(this.ptr);\n      this.ptr = 0;\n    }\n\n    connectionStatus() {\n      return Module.sceneGetConnectionStatus(this.ptr);\n    }\n\n    getInfo() {\n      Module.sceneGetInfo(this.ptr, this.infoBuffer.ofs);\n      return Module.deserializeSceneInfo(this.infoBuffer.ofs);\n    }\n\n    isConnected() {\n      return this.connectionStatus() === ConnectionStatus.Connected;\n    }\n\n    setTransform(matrix) {\n      if (!Array.isArray(matrix)) {\n        throw new TypeError('Matrix should be an array');\n      }\n\n      if (matrix.length !== 16) {\n        throw new TypeError('Matrix should be of size 4x4');\n      }\n\n      copyMat4(this.matrixBuffer.floats(), matrix);\n      Module.sceneSetTransform(this.ptr, this.matrixBuffer.ofs);\n    }\n\n  }\n\n  class View {\n    constructor(ptr, runtimeAssets) {\n      this.ptr = void 0;\n      this.matrixBuffer = void 0;\n      this.vectorBuffer = void 0;\n      this.lightBuffer = void 0;\n      this.temp = void 0;\n      this.runtimeAssets = void 0;\n      this.ptr = ptr;\n      this.matrixBuffer = new Buffer(16 * 4);\n      this.vectorBuffer = new Buffer(4 * 4);\n      this.lightBuffer = new Buffer(MAX_LIGHTS * 3 * 4);\n      this.temp = undefined;\n      this.runtimeAssets = runtimeAssets;\n    }\n\n    destroy() {\n      this.matrixBuffer.destroy();\n      this.vectorBuffer.destroy();\n      this.lightBuffer.destroy();\n\n      if (this.temp) {\n        this.temp.destroy();\n      }\n\n      Module.viewDestroy(this.ptr);\n      this.ptr = 0;\n    }\n\n    setCamera(worldToClip, positionVector, quality) {\n      var lights = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n      var depthRange = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : DepthRange.MinusOneToOne;\n      var matrixFormat = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : MatrixFormat.ColumnMajor;\n\n      if (!Array.isArray(worldToClip)) {\n        throw new TypeError('Camera matrix should be an array');\n      }\n\n      if (!Array.isArray(positionVector)) {\n        throw new TypeError('Position should be an array');\n      }\n\n      if (typeof quality !== 'number') {\n        throw new TypeError('Quality should be a number');\n      }\n\n      if (worldToClip.length !== 16) {\n        throw new TypeError('WorldToClip matrix should be of size 4x4');\n      }\n\n      if (positionVector.length !== 3) {\n        throw new TypeError('Position vector should be of length 3');\n      }\n\n      copyMat4(this.matrixBuffer.floats(), worldToClip);\n      copyVec3(this.vectorBuffer.floats(), positionVector);\n\n      if (lights) {\n        if (lights.length > MAX_LIGHTS) {\n          throw new Error('Too many lights given');\n        }\n\n        var buffer = this.lightBuffer.floats();\n\n        for (var i = 0; i < lights.length; i++) {\n          buffer[3 * i + 0] = lights[i][0];\n          buffer[3 * i + 1] = lights[i][1];\n          buffer[3 * i + 2] = lights[i][2];\n        }\n      }\n\n      Module.viewUpdateRendering(this.ptr, this.matrixBuffer.ofs, this.vectorBuffer.ofs, depthRange, matrixFormat, quality, this.lightBuffer.ofs, lights.length);\n    }\n\n    getVisible(batchSize) {\n      assertInteger(batchSize);\n      var bufferSize = batchSize * Module.renderableSize; // Check if we should enlarge or allocate the temp buffer\n\n      if (!this.temp || this.temp.size < bufferSize) {\n        if (this.temp) {\n          this.temp.destroy();\n        }\n\n        this.temp = new Buffer(bufferSize);\n      }\n\n      var temp = this.temp;\n      var strideInWords = Module.renderableSize / 4;\n      var bufferWordSize = bufferSize / 4;\n      assertInteger(strideInWords);\n      assertInteger(bufferWordSize);\n\n      var getView = function getView(arrayType, heap, ptr, ofs) {\n        assertInteger(ofs / 4); // eslint-disable-next-line new-cap\n\n        return new arrayType(heap.buffer, ptr + ofs, bufferWordSize - ofs / 4);\n      };\n\n      var meshIDs = getView(Uint32Array, Module.HEAPU32, temp.ofs, renderableStructOffsets['mesh']);\n      var lodLevels = getView(Int32Array, Module.HEAP32, temp.ofs, renderableStructOffsets['lodLevel']);\n      var masks = getView(Uint32Array, Module.HEAPU32, temp.ofs, renderableStructOffsets['visibilityMask']); // const transforms = getView(Float32Array, Module.HEAPF32, temp.ofs, offsets['transform'])\n\n      var scenePointers = getView(Uint32Array, Module.HEAPU32, temp.ofs, renderableStructOffsets['scene']);\n      var count = Module.viewNextRenderables(this.ptr, temp.ofs, batchSize);\n      var output = [];\n\n      for (var i = 0; i < count; i++) {\n        var id = meshIDs[strideInWords * i];\n        var lod = lodLevels[strideInWords * i];\n        var mask = masks[strideInWords * i];\n        var scenePtr = scenePointers[strideInWords * i]; // TODO extract individual transforms too\n\n        output.push({\n          id: id,\n          mesh: this.runtimeAssets.get(id),\n          lod: lod,\n          mask: mask,\n          scenePtr: scenePtr\n        });\n      }\n\n      return output;\n    }\n\n  }\n\n  class AssetLoad {\n    // TODO: Replace with a union container data types\n    constructor(ptr) {\n      this.ptr = void 0;\n      this.assetType = void 0;\n      this.type = void 0;\n      this.data = void 0;\n      this.ptr = ptr;\n      this.assetType = Module.assetLoadGetType(this.ptr);\n      this.type = 'Load' + AssetType[this.assetType];\n      this.data = {}; // Type specific asset data set from the outside\n    }\n\n    prepare(userPtr) {\n      Module.assetLoadPrepare(this.ptr, userPtr);\n    }\n\n    finish(result) {\n      Module.assetLoadFinish(this.ptr, result);\n    }\n\n  }\n\n  class AssetUnload {\n    constructor(ptr) {\n      this.ptr = void 0;\n      this.assetType = void 0;\n      this.type = void 0;\n      this.userPointer = void 0;\n      this.data = void 0;\n      this.ptr = ptr;\n      this.assetType = Module.assetUnloadGetType(this.ptr);\n      this.type = 'Unload' + AssetType[this.assetType];\n      this.userPointer = Module.assetUnloadGetUserPointer(this.ptr);\n    }\n\n    finish() {\n      Module.assetUnloadFinish(this.ptr);\n    }\n\n  }\n\n  var vertexBufferMap = new Map([['position', new Buffer(4)], ['normal', new Buffer(4)], ['uv', new Buffer(4)], ['tangent', new Buffer(4)], ['index', new Buffer(4)]]);\n\n  function getBufferForAttribute(name, newSize, type) {\n    var buffer = vertexBufferMap.get(name);\n\n    if (buffer.size < newSize) {\n      if (buffer.size > 0) {\n        buffer.destroy();\n      }\n\n      buffer = new Buffer(newSize, type);\n      vertexBufferMap.set(name, buffer);\n    } else if (type) {\n      buffer.type = type;\n    }\n\n    return buffer;\n  }\n\n  class Loader {\n    // NOTE: These buffers get leaked but it doesn't matter since we will delete Emscripten's heap on shutdown anyway.\n    constructor(load) {\n      this.load = void 0;\n      this.info = void 0;\n      this.vertexBuffers = void 0;\n      this.load = load;\n      Module.meshLoadGetInfo(this.load.ptr, Loader.meshInfoBuffer.ofs);\n      this.info = Module.deserializeMeshInfo(Loader.meshInfoBuffer.ofs);\n    }\n\n    setBuffers(buffers) {\n      Loader.structBuffer.bytes().fill(0);\n      Loader.tempDataBuffer.bytes().fill(0);\n      Module.serializeElementBuffer(buffers.position.desc, Loader.structBuffer.ofs);\n      Module.serializeElementBuffer(buffers.index.desc, Loader.tempDataBuffer.ofs);\n\n      if ('uv' in buffers) {\n        Module.serializeElementBuffer(buffers.uv.desc, Loader.structBuffer.ofs + Module.elementBufferSize * 1);\n      }\n\n      if ('normal' in buffers) {\n        Module.serializeElementBuffer(buffers.normal.desc, Loader.structBuffer.ofs + Module.elementBufferSize * 2);\n      }\n\n      if ('tangent' in buffers) {\n        Module.serializeElementBuffer(buffers.tangent.desc, Loader.structBuffer.ofs + Module.elementBufferSize * 3);\n      }\n\n      if (!Module.meshStreamSetBuffers(this.load.ptr, Loader.structBuffer.ofs, Loader.tempDataBuffer.ofs)) {\n        console.log(buffers);\n        throw new Error('setBuffers failed');\n      }\n    }\n\n    loadNext() {\n      return Module.meshStreamNext(this.load.ptr, 0, 0);\n    }\n\n    done() {\n      return Module.meshStreamDone(this.load.ptr);\n    }\n\n    allocateBuffers() {\n      var _this = this;\n\n      var indexBytes = this.info.numUniqueVertices < 1 << 16 ? 2 : 4; // prettier-ignore\n\n      var attrInfo = {\n        position: {\n          elemSize: Module.vertexAttributeGetElementByteSize(VertexAttribute.Position),\n          count: this.info.numUniqueVertices,\n          mask: 1 << VertexAttribute.Position,\n          type: Float32Array\n        },\n        uv: {\n          elemSize: Module.vertexAttributeGetElementByteSize(VertexAttribute.TextureCoordinate),\n          count: this.info.numUniqueVertices,\n          mask: 1 << VertexAttribute.TextureCoordinate,\n          type: Float32Array\n        },\n        normal: {\n          elemSize: Module.vertexAttributeGetElementByteSize(VertexAttribute.Normal),\n          count: this.info.numUniqueVertices,\n          mask: 1 << VertexAttribute.Normal,\n          type: Float32Array\n        },\n        tangent: {\n          elemSize: Module.vertexAttributeGetElementByteSize(VertexAttribute.Tangent),\n          count: this.info.numUniqueVertices,\n          mask: 1 << VertexAttribute.Tangent,\n          type: Float32Array\n        },\n        index: {\n          elemSize: indexBytes,\n          count: this.info.numIndices,\n          mask: 0xffffffff,\n          type: indexBytes === 2 ? Uint16Array : Uint32Array\n        }\n      };\n      var bufferSizes = {};\n      Object.keys(attrInfo).forEach(function (name) {\n        var byteSize = attrInfo[name].count * attrInfo[name].elemSize;\n        assertInteger(byteSize / attrInfo[name].type.BYTES_PER_ELEMENT);\n        bufferSizes[name] = byteSize;\n      });\n      var meshBuffers = {};\n      Object.keys(attrInfo).forEach(function (name) {\n        // Skip vertex attributes that aren't needed\n        if (!(_this.info.attributes & attrInfo[name].mask)) {\n          return;\n        }\n\n        var buffer = getBufferForAttribute(name, bufferSizes[name], attrInfo[name].type);\n        var desc = {};\n        desc.ptr = buffer.ofs; // Emscripten heap offset\n\n        desc.elementByteSize = attrInfo[name].elemSize; // Size of a single element\n\n        desc.elementCapacity = attrInfo[name].count; // Number of elements\n\n        desc.elementStride = attrInfo[name].elemSize; // Distance (in bytes) between consecutive elements\n\n        desc.flags = 0; // 0: cached memory, 1: uncached memory\n\n        meshBuffers[name] = {\n          data: new BufferView(buffer, 0, bufferSizes[name]),\n          desc: desc\n        };\n      });\n      return meshBuffers;\n    }\n\n  }\n\n  Loader.structBuffer = new Buffer(Module.elementBufferSize * VertexAttribute.Count, Uint8Array);\n  Loader.meshInfoBuffer = new Buffer(Module.meshInfoSize, Uint8Array);\n  Loader.tempDataBuffer = new Buffer(Module.elementBufferSize, Uint8Array);\n\n  class Runtime {\n    constructor(client, platformFeatures) {\n      var runtimeFlags = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      this.assets = new Map();\n      this.client = void 0;\n      this.ptr = void 0;\n      this.platformFeatures = void 0;\n      this.nextId = 1;\n      this.loader = undefined;\n      this.tempTextureBuffer = new Buffer(1024 * 1024, Uint8Array);\n      this.tempTranscodedBuffer = new Buffer(4, Uint8Array);\n      this.tempStreamingStateBuffer = new Buffer(Module.streamingStateSize, Uint8Array);\n      this.scratch = void 0;\n      this.debug = void 0;\n\n      /**\n       * If no normal map formats are supported then force support for\n       * BC5 so that textures get transcoded into an uncompressed format.\n       */\n      var normalFormats = TextureSupportFlags.ETC1 | TextureSupportFlags.ASTC | TextureSupportFlags.PVRTC1 | TextureSupportFlags.BC5;\n      var textureSupportMask = platformFeatures.textureSupportMask;\n\n      if (!(textureSupportMask & normalFormats)) {\n        textureSupportMask |= TextureSupportFlags.BC5 | TextureSupportFlags.BC4;\n      }\n\n      this.client = client;\n      var infoPtr = Module.serializeEnvironmentInfo({\n        textureSupportFlags: textureSupportMask,\n        localCacheDirectory: null,\n        localCacheMaximumByteSize: 0\n      }, 0);\n      this.ptr = Module.runtimeCreate(client.ptr, infoPtr, runtimeFlags);\n\n      Module._free(infoPtr);\n\n      this.platformFeatures = platformFeatures;\n      var size = Math.max(Module.meshInfoSize, Module.materialInfoSize, Module.textureInfoSize, Module.byteBufferSize);\n      this.scratch = new Buffer(size, Uint8Array);\n      this.debug = {\n        textureFormatsInUse: new Set(),\n        platformFeatures: platformFeatures\n      };\n    }\n\n    destroy() {\n      this.tempTextureBuffer.destroy();\n      this.scratch.destroy();\n      Module.runtimeDestroy(this.ptr);\n      this.client.destroy();\n      this.ptr = 0;\n    }\n\n    createScenePublic(publicKey) {\n      var scenePtr = Module.sceneCreatePublic(this.ptr, publicKey);\n\n      if (!scenePtr) {\n        return undefined;\n      }\n\n      return new NativeScene(scenePtr);\n    }\n\n    createSceneLocal(url) {\n      var scenePtr = Module.sceneCreateLocal(this.ptr, url);\n\n      if (!scenePtr) {\n        return undefined;\n      }\n\n      return new NativeScene(scenePtr);\n    }\n\n    createView() {\n      var viewPtr = Module.viewCreate(this.ptr);\n      return new View(viewPtr, this.assets);\n    }\n\n    update() {\n      Module.runtimeUpdate(this.ptr);\n    }\n\n    *getAssetUnloads() {\n      var p = Module.runtimeNextAssetUnload(this.ptr);\n\n      while (p !== 0) {\n        var unload = new AssetUnload(p);\n        unload.data = this.assets.get(unload.userPointer);\n        yield unload;\n        p = Module.runtimeNextAssetUnload(this.ptr);\n      }\n    }\n\n    *getAssetLoads() {\n      var _this2 = this;\n\n      while (true) {\n        if (this.loader) {\n          if (this.loader.done()) {\n            var job = this.loader.load; // The buffers allocated by MeshLoader are handed over to the caller.\n\n            job.data.buffers = this.loader.vertexBuffers;\n            job.data.material = this.assets.get(this.loader.info.material);\n            job.data.bounds = [this.loader.info.bounds.mn, this.loader.info.bounds.mx];\n            this.loader = undefined;\n            yield job;\n          } else {\n            /**\n             * A mesh is still decompressing so we'll advance the decompression\n             * one step further and return the control to the caller for a timeout check.\n             */\n            if (!this.loader.loadNext()) {\n              throw new Error('loadNext failed');\n            }\n\n            yield undefined; // This processing step might have finished the decompression already, so loop back.\n\n            continue;\n          }\n        }\n\n        var loadPtr = Module.runtimeNextAssetLoad(this.ptr); // Terminate the generator when there are no more jobs to process.\n\n        if (loadPtr === 0) {\n          return undefined;\n        }\n\n        var load = new AssetLoad(loadPtr);\n\n        if (load.type === 'LoadMaterial') {\n          Module.materialLoadGetInfo(load.ptr, this.scratch.ofs);\n          var info = Module.deserializeMaterialInfo(this.scratch.ofs);\n          var textureObjects = info.textures.filter(function (ptr) {\n            return ptr !== Module.INVALID_USERPOINTER;\n          });\n          textureObjects = textureObjects.map(function (id) {\n            return _this2.assets.get(id);\n          });\n          load.data = {\n            transparent: info.transparent,\n            textures: textureObjects\n          };\n          yield load;\n        } else if (load.type === 'LoadTexture') {\n          var infoPtr = this.scratch.ofs;\n          Module.textureLoadGetInfo(load.ptr, infoPtr);\n          var texture = Module.deserializeTextureInfo(infoPtr);\n          texture['mipByteSizes'] = [Module.textureGetMipmapLevelByteSize(infoPtr, 0)];\n          texture['mipByteOffsets'] = [Module.textureGetMipmapLevelOffset(infoPtr, 0)];\n          var buffer = this.tempTextureBuffer;\n          buffer.ensureSize(texture.dataByteSize);\n          Module.serializeByteBuffer({\n            ptr: buffer.ofs,\n            byteSize: texture.dataByteSize,\n            // The output buffer size must match the texture data size\n            flags: 0\n          }, this.scratch.ofs);\n\n          if (!Module.textureLoadGetData(load.ptr, this.scratch.ofs)) {\n            throw new Error(\"textureLoadGetData failed: \".concat(load.ptr, \", \").concat(buffer.ofs, \", \").concat(texture.dataByteSize, \"/\").concat(buffer.size));\n          }\n\n          var bufferView = new BufferView(buffer, 0, texture.dataByteSize);\n\n          if (this.formatNeedsTranscoding(texture.format)) {\n            texture = this.downsampleAndTranscodeTexture(texture, buffer, this.tempTranscodedBuffer);\n            bufferView = new BufferView(this.tempTranscodedBuffer, 0, texture.dataByteSize); // After transcoding, we must pick the correct ArrayBufferView constructor because\n            // gl.texImage2D's data argument type must match the \"type\" argument.\n\n            if (textureFormatToArrayType.has(texture.format)) {\n              bufferView.type = textureFormatToArrayType.get(texture.format);\n            } else {\n              console.error('Transcoding returned an unexpected texture format:', texture.format);\n              load.finish(AssetLoadResult.Failure);\n              yield undefined;\n            }\n          } // Convert internal enums to string constants\n          // info.format = Native.TextureFormat[info.format]\n          // info.colorSpace = Native.ColorSpace[info.colorSpace]\n          // info.textureType = Native.TextureType[info.textureType]\n\n\n          this.debug.textureFormatsInUse.add(texture.format);\n          load.data = {\n            info: texture,\n            buffer: bufferView\n          };\n          yield load;\n        } else if (load.type === 'LoadMesh') {\n          // Mesh jobs create decompression work that needs to be done first.\n          this.loader = new Loader(load);\n          this.loader.vertexBuffers = this.loader.allocateBuffers();\n          this.loader.setBuffers(this.loader.vertexBuffers);\n          yield undefined;\n        } else {\n          throw new Error(\"Job wasn't handled correctly\");\n        }\n      }\n    }\n\n    loadAssets(handlers, timeLimit) {\n      var startTime = performance.now(); // First go and free up all pending assets\n\n      for (var unload of this.getAssetUnloads()) {\n        handlers[unload.type](unload);\n\n        if (performance.now() - startTime > timeLimit) {\n          break;\n        }\n      } // Process load jobs if there's still time left\n\n\n      for (var load of this.getAssetLoads()) {\n        // If job is 'undefined' it means a mesh is still decompressing\n        if (load) {\n          try {\n            handlers[load.type](load);\n          } catch (error) {\n            load.finish(AssetLoadResult.Failure);\n            throw error;\n          }\n        } // We always process at least one job before checking the time\n\n\n        if (performance.now() - startTime > timeLimit) {\n          break;\n        }\n      }\n    }\n\n    addAsset(asset) {\n      // AssetJob IDs are just an increasing 32-bit series\n      var userPtr = this.nextId;\n      this.nextId = this.nextId + 1 | 0;\n\n      if (this.nextId === 0) {\n        this.nextId = 1;\n      }\n\n      this.assets.set(userPtr, asset);\n      return userPtr;\n    }\n    /**\n     * Removes the asset reference of the stream out job.\n     * Assumes the caller has already freed their own asset resources.\n     */\n\n\n    removeAsset(job, asset) {\n      var id = job.userPointer;\n\n      if (this.assets.has(id)) {\n        this.assets[\"delete\"](id);\n      }\n\n      return id;\n    }\n\n    formatNeedsTranscoding(format) {\n      var flags = this.platformFeatures.textureSupportMask;\n\n      switch (format) {\n        case TextureFormat.BC1:\n          if (flags & TextureSupportFlags.BC1) {\n            return false;\n          }\n\n          break;\n\n        case TextureFormat.BC3:\n          if (flags & TextureSupportFlags.BC3) {\n            return false;\n          }\n\n          break;\n\n        case TextureFormat.BC4:\n          if (flags & TextureSupportFlags.BC4) {\n            return false;\n          }\n\n          break;\n\n        case TextureFormat.BC5:\n          if (flags & TextureSupportFlags.BC5) {\n            return false;\n          }\n\n          break;\n\n        default:\n          return false;\n      }\n\n      return true;\n    }\n\n    downsampleAndTranscodeTexture(info, buffer, outputBuffer) {\n      var newFormat = Module.getUncompressedFromBCFormat(info.format);\n\n      if (newFormat === TextureFormat.Count) {\n        throw new Error(\"Couldn't find a matching BC format\");\n      } // If half float is not supported on this platform we need to make do with an 8-bit texture.\n\n\n      if (newFormat === TextureFormat.RG16F && !this.platformFeatures.halfFloat) {\n        newFormat = TextureFormat.RG8;\n      }\n\n      var outputSize = Module.getTextureByteSize(info.width, info.height, newFormat);\n      outputBuffer.ensureSize(outputSize);\n      var result = Module.downsampleAndTranscodeTexture(info.format, newFormat, info.width, info.height, buffer.ofs, info.dataByteSize, outputBuffer.ofs, outputBuffer.size);\n\n      if (!result.success) {\n        throw new Error(\"Texture transcoding failed. Input: \".concat(info.format, \", output: \").concat(newFormat, \", output size: \").concat(outputSize));\n      }\n\n      if (result.texture.format !== newFormat) {\n        throw new Error(\"Transcoded texture format was \".concat(result.texture.format, \" instead of the expected \").concat(newFormat));\n      } // Create a new texture descriptor with updated properties and return it.\n\n\n      var info2 = Object.assign({}, info);\n      var desc = result.texture;\n      info2 = Object.assign(info2, {\n        format: desc.format,\n        width: desc.width,\n        height: desc.height,\n        dataByteSize: desc.dataByteSize,\n        mipByteSizes: [desc.dataByteSize]\n      });\n      return info2;\n    }\n\n    getStreamingState() {\n      Module.runtimeGetStreamingState(this.ptr, this.tempStreamingStateBuffer.ofs);\n      return Module.deserializeStreamingState(this.tempStreamingStateBuffer.ofs);\n    }\n\n    getStreamingProgress() {\n      var state = this.getStreamingState();\n\n      if (state.numResidentTiles == 0) {\n        return 0.0;\n      }\n\n      return state.numResidentTilesLoaded / state.numResidentTiles;\n    }\n\n  } // Expose only runtime for instantiation\n\n\n  return {\n    createRuntime: function createRuntime(features) {\n      return new Runtime(new Client(), features);\n    }\n  };\n};\n\n// Generated at 2020-08-18 15:23:39\nfunction wrapNativeFunctions(Module) {\n  Object.assign(Module, {\n    configInit: Module.cwrap('UmbraConfigInit', null, ['number']),\n    clientCreate: Module.cwrap('UmbraClientCreate', 'number', ['string', 'number']),\n    clientDestroy: Module.cwrap('UmbraClientDestroy', null, ['number']),\n    getLibraryInfo: Module.cwrap('UmbraGetLibraryInfo', 'string', ['number']),\n    environmentInfoDefaults: Module.cwrap('UmbraEnvironmentInfoDefaults', null, ['number']),\n    runtimeCreate: Module.cwrap('UmbraRuntimeCreate', 'number', ['number', 'number', 'number']),\n    runtimeUpdate: Module.cwrap('UmbraRuntimeUpdate', null, ['number']),\n    runtimeGetStreamingState: Module.cwrap('UmbraRuntimeGetStreamingState', null, ['number', 'number']),\n    runtimeDestroy: Module.cwrap('UmbraRuntimeDestroy', null, ['number']),\n    sceneCreate: Module.cwrap('UmbraSceneCreate', 'number', ['number', 'string', 'string']),\n    sceneCreatePublic: Module.cwrap('UmbraSceneCreatePublic', 'number', ['number', 'string']),\n    sceneCreateLocal: Module.cwrap('UmbraSceneCreateLocal', 'number', ['number', 'string']),\n    sceneGetConnectionStatus: Module.cwrap('UmbraSceneGetConnectionStatus', 'number', ['number']),\n    sceneGetInfo: Module.cwrap('UmbraSceneGetInfo', 'number', ['number', 'number']),\n    sceneSetTransform: Module.cwrap('UmbraSceneSetTransform', null, ['number', 'number']),\n    sceneDestroy: Module.cwrap('UmbraSceneDestroy', null, ['number']),\n    viewCreate: Module.cwrap('UmbraViewCreate', 'number', ['number']),\n    viewUpdateRendering: Module.cwrap('UmbraViewUpdateRendering', null, ['number', 'number', 'number', 'number', 'number', 'number', 'number', 'number']),\n    viewUpdateFilter: Module.cwrap('UmbraViewUpdateFilter', null, ['number', 'number']),\n    viewGetCompleted: Module.cwrap('UmbraViewGetCompleted', 'number', ['number']),\n    viewNextRenderables: Module.cwrap('UmbraViewNextRenderables', 'number', ['number', 'number', 'number']),\n    viewResetRenderables: Module.cwrap('UmbraViewResetRenderables', null, ['number']),\n    viewDestroy: Module.cwrap('UmbraViewDestroy', null, ['number']),\n    viewRayQuery: Module.cwrap('UmbraViewRayQuery', 'number', ['number', 'number', 'number', 'number', 'number', 'number']),\n    sceneCopyCreate: Module.cwrap('UmbraSceneCopyCreate', 'number', ['number', 'number', 'number', 'number', 'number']),\n    sceneCopyGetStatus: Module.cwrap('UmbraSceneCopyGetStatus', 'number', ['number', 'number']),\n    sceneCopyGetError: Module.cwrap('UmbraSceneCopyGetError', 'string', ['number']),\n    sceneCopyDestroy: Module.cwrap('UmbraSceneCopyDestroy', null, ['number']),\n    vertexAttributeGetElementByteSize: Module.cwrap('UmbraVertexAttributeGetElementByteSize', 'number', ['number']),\n    runtimeNextAssetLoad: Module.cwrap('UmbraRuntimeNextAssetLoad', 'number', ['number']),\n    assetLoadGetType: Module.cwrap('UmbraAssetLoadGetType', 'number', ['number']),\n    assetLoadPrepare: Module.cwrap('UmbraAssetLoadPrepare', null, ['number', 'number']),\n    assetLoadAbortRequested: Module.cwrap('UmbraAssetLoadAbortRequested', 'number', ['number']),\n    assetLoadFinish: Module.cwrap('UmbraAssetLoadFinish', null, ['number', 'number']),\n    meshLoadFinishExternal: Module.cwrap('UmbraMeshLoadFinishExternal', null, ['number', 'number', 'number', 'number']),\n    meshLoadGetInfo: Module.cwrap('UmbraMeshLoadGetInfo', null, ['number', 'number']),\n    meshLoadGetData: Module.cwrap('UmbraMeshLoadGetData', 'number', ['number', 'number', 'number']),\n    meshStreamSetBuffers: Module.cwrap('UmbraMeshStreamSetBuffers', 'number', ['number', 'number', 'number']),\n    meshStreamNext: Module.cwrap('UmbraMeshStreamNext', 'number', ['number', 'number', 'number']),\n    meshStreamDone: Module.cwrap('UmbraMeshStreamDone', 'number', ['number']),\n    meshLoadGetSerializedSize: Module.cwrap('UmbraMeshLoadGetSerializedSize', 'number', ['number']),\n    textureGetMipmapLevelByteSize: Module.cwrap('UmbraTextureGetMipmapLevelByteSize', 'number', ['number', 'number']),\n    textureGetMipmapLevelOffset: Module.cwrap('UmbraTextureGetMipmapLevelOffset', 'number', ['number', 'number']),\n    textureLoadGetInfo: Module.cwrap('UmbraTextureLoadGetInfo', null, ['number', 'number']),\n    textureLoadGetData: Module.cwrap('UmbraTextureLoadGetData', 'number', ['number', 'number']),\n    textureLoadGetSerializedSize: Module.cwrap('UmbraTextureLoadGetSerializedSize', 'number', ['number']),\n    textureMetaDataLoadGetData: Module.cwrap('UmbraTextureMetaDataLoadGetData', 'number', ['number', 'number']),\n    textureMetaDataGetClassificationCount: Module.cwrap('UmbraTextureMetaDataGetClassificationCount', 'number', ['number', 'number']),\n    textureMetaDataGetClassification: Module.cwrap('UmbraTextureMetaDataGetClassification', 'number', ['number', 'number', 'number']),\n    textureMetaDataGetClassificationAmount: Module.cwrap('UmbraTextureMetaDataGetClassificationAmount', 'number', ['number', 'number', 'number']),\n    materialLoadGetInfo: Module.cwrap('UmbraMaterialLoadGetInfo', null, ['number', 'number']),\n    runtimeNextAssetUnload: Module.cwrap('UmbraRuntimeNextAssetUnload', 'number', ['number']),\n    assetUnloadGetType: Module.cwrap('UmbraAssetUnloadGetType', 'number', ['number']),\n    assetUnloadGetUserPointer: Module.cwrap('UmbraAssetUnloadGetUserPointer', 'number', ['number']),\n    assetUnloadFinish: Module.cwrap('UmbraAssetUnloadFinish', null, ['number']),\n    sendInternalMessage: Module.cwrap('UmbraSendInternalMessage', 'number', ['number', 'number'])\n  });\n}\n\n\n\nvar _Math = /*#__PURE__*/Object.freeze({\n\n});\n\n/**\n * These definitions are exported in 'index.ts'.\n * See the API reference for more details:\n *\n *     https://github.com/UmbraSoftware/umbrajs/wiki/API-reference\n *\n */\n\n/**\n * Returns a library instance that uses the Emscripten resources of \"Module\".\n */\nfunction instantiate(Module) {\n  var lib = {};\n  /**\n   * Queries supported texture formats and also enables the relevant WebGL extensions.\n   */\n\n  lib.getPlatformFeatures = function (gl) {\n    var flags = 0; // We accumulate a texture format bitmask here\n\n    var formats = new Set(); // Will hold all supported format names\n\n    var supportsSRGB = false;\n    var supportsHalfFloat = false;\n    /**\n     * We fetch all extension strings and strip off possible vendor prefixes of WEBGL\n     * extensions. However, when we enable the extension we need the original full string.\n     * Here 'extStrings' holds a mapping from a shortened to a full extension string.\n     */\n\n    var extStrings = new Map([]); // Full strings\n\n    var extNames = []; // Shortened strings\n\n    var allExtensions = gl.getSupportedExtensions();\n\n    for (var full of allExtensions) {\n      var shortened = full.replace(/^(.*)_WEBGL_/, 'WEBGL_');\n      extStrings.set(shortened, full);\n      extNames.push(shortened);\n    }\n\n    var mapping = new Map([['WEBGL_compressed_texture_s3tc', {\n      mask: TextureSupportFlags.BC1 | TextureSupportFlags.BC2 | TextureSupportFlags.BC3,\n      names: ['bc1', 'bc2', 'bc3']\n    }], ['WEBGL_compressed_texture_s3tc_srgb', {\n      mask: TextureSupportFlags.BC1 | TextureSupportFlags.BC2 | TextureSupportFlags.BC3,\n      names: ['bc1', 'bc2', 'bc3']\n    }], ['WEBGL_compressed_texture_rgtc', {\n      mask: TextureSupportFlags.BC4 | TextureSupportFlags.BC5,\n      names: ['bc4', 'bc5']\n    }], ['WEBGL_compressed_texture_pvrtc', {\n      mask: TextureSupportFlags.PVRTC1,\n      names: ['pvrtc1_rgb4', 'pvrtc1_rgba4']\n    }], ['WEBGL_compressed_texture_etc1', {\n      mask: TextureSupportFlags.ETC1,\n      names: ['etc1_rgb']\n    }], ['WEBGL_compressed_texture_astc', {\n      mask: TextureSupportFlags.ASTC,\n      names: ['astc_4x4']\n    }]]);\n\n    for (var key of mapping.keys()) {\n      if (extNames.includes(key)) {\n        gl.getExtension(extStrings.get(key));\n        var value = mapping.get(key);\n        flags |= value.mask;\n        value.names.forEach(function (name) {\n          return formats.add(name);\n        });\n      }\n    }\n\n    if (extNames.includes('WEBGL_compressed_texture_s3tc_srgb')) {\n      supportsSRGB = true;\n    }\n\n    if (extNames.includes('EXT_sRGB')) {\n      gl.getExtension(extStrings.get('EXT_sRGB'));\n      supportsSRGB = true;\n    }\n\n    if (extNames.includes('OES_texture_half_float')) {\n      gl.getExtension(extStrings.get('OES_texture_half_float'));\n      supportsHalfFloat = true;\n    }\n\n    return {\n      textureSupportMask: flags,\n      formats: _toConsumableArray(formats),\n      srgb: supportsSRGB,\n      halfFloat: supportsHalfFloat\n    };\n  }; // Access to the Emscripten module is needed for deinitialization\n\n\n  lib.nativeModule = Module; // Allow access to Runtime class\n\n  lib.createRuntime = create(Module).createRuntime;\n\n  lib.getStreamingInfo = function () {\n    return {\n      minBytesDownloaded: lib.nativeModule.minBytesDownloaded,\n      maxBytesDownloaded: lib.nativeModule.maxBytesDownloaded\n    };\n  };\n\n  lib.getLibraryInfo = function () {\n    return {\n      version: Module.getLibraryInfo(LibraryInfo.Version),\n      copyright: Module.getLibraryInfo(LibraryInfo.Copyright),\n      buildTime: Module.getLibraryInfo(LibraryInfo.BuildTime),\n      buildID: Module.getLibraryInfo(LibraryInfo.BuildId)\n    };\n  };\n\n  lib.abortDownloads = function () {\n    Object.values(Module.wgetRequests).forEach(function (req) {\n      req.abort();\n    });\n  };\n\n  return lib;\n}\n/**\n * Compiles the WebAssembly and code and initializes the Emscripten environment.\n * Returns a Promise that resolves with the library instance ready for use.\n */\n\n\nvar initUmbra = function initUmbra(config) {\n\n  var defaults = {\n    wasmURL: ''\n  };\n  config = Object.assign(defaults, config);\n  return new Promise(function (resolve, reject) {\n    try {\n      var redirectWasmURL = function redirectWasmURL(path, prefix) {\n        // If it's our wasm file, return a custom URL\n        if (path.endsWith('umbra.wasm') && config.wasmURL !== '') {\n          return config.wasmURL;\n        }\n\n        return prefix + path;\n      };\n\n      UmbraNativeAPI({\n        locateFile: redirectWasmURL\n      }).then(function (Module) {\n        // A workaround for https://github.com/emscripten-core/emscripten/issues/5820\n        delete Module['then'];\n\n        Module['onAbort'] = function (what) {\n          reject(what);\n        };\n\n        wrapNativeFunctions(Module);\n        resolve(instantiate(Module));\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n/**\n * Deinitializes the Emscripten environment.\n *\n * NOTE: We assume here that async IndexedDB loads and stores have already finished.\n * This is the case if Umbra.update() was *not* called before deinitUmbra() on the\n * same frame.\n */\n\nvar deinitUmbra = function deinitUmbra(Umbra) {\n  // Pending requests must be aborted so that native handlers won't get called\n  Umbra.abortDownloads();\n  var privateUmbra = Umbra; // Emscripten's exit(0) call throws an ExitStatus exception\n\n  try {\n    privateUmbra.nativeModule._exit(0);\n  } catch (e) {\n    if (e.name !== 'ExitStatus') {\n      throw e;\n    }\n  }\n};\n\nexport { Assets, ColorSpace, ConnectionStatus, DepthRange, _Math as Math, MatrixFormat, TextureFormat, TextureSupportFlags, TextureType, deinitUmbra, initUmbra };\n//# sourceMappingURL=umbra.esm.js.map\n","/* eslint  @typescript-eslint/camelcase: 0 */\n\nimport * as THREE from './ThreeWrapper'\nimport { TextureFormat } from '@umbra3d/umbrajs'\n\nfunction makeFormat(format, type, compressed) {\n  return { format, type, compressed }\n}\n\n// prettier-ignore\nconst ThreeFormats = {\n  [TextureFormat.RGB24]: makeFormat(THREE.RGBFormat, THREE.UnsignedByteType, false),\n  [TextureFormat.RGBA32]: makeFormat(THREE.RGBAFormat, THREE.UnsignedByteType, false),\n  [TextureFormat.RGB565]: makeFormat(THREE.RGBFormat, THREE.UnsignedShort565Type, false),\n  [TextureFormat.RG8]: makeFormat(THREE.LuminanceAlphaFormat, THREE.UnsignedByteType, false),\n  [TextureFormat.RG16F]: makeFormat(THREE.LuminanceAlphaFormat, THREE.HalfFloatType, false),\n  [TextureFormat.BC1]: makeFormat(THREE.RGBA_S3TC_DXT1_Format, THREE.UnsignedByteType, true),\n  [TextureFormat.BC3]: makeFormat(THREE.RGBA_S3TC_DXT5_Format, THREE.UnsignedByteType, true),\n  [TextureFormat.ETC1_RGB]: makeFormat(THREE.RGB_ETC1_Format, THREE.UnsignedByteType, true),\n  [TextureFormat.ASTC_4X4]: makeFormat(THREE.RGBA_ASTC_4x4_Format, THREE.UnsignedByteType, true),\n  [TextureFormat.PVRTC1_RGB4]: makeFormat(THREE.RGB_PVRTC_4BPPV1_Format, THREE.UnsignedByteType, true),\n}\n\nexport { ThreeFormats }\n","const normalmapChunk = `\n#ifdef USE_NORMALMAP\n#ifdef USE_TANGENT\n\nvec3 tangentToWorld2 = normal;\nvec3 tangentToWorld0 = normalize(tangent - tangentToWorld2 * dot(tangentToWorld2, tangent));\n\n#ifdef UMBRA_FLIP_TANGENT\nvec3 tangentToWorld1 = normalize(cross(tangentToWorld0, tangentToWorld2));\n#else\nvec3 tangentToWorld1 = normalize(cross(tangentToWorld2, tangentToWorld0));\n#endif\n\n#if defined(UMBRA_TEXTURE_SUPPORT_BC5) || defined(UMBRA_TEXTURE_SUPPORT_ASTC)\nnormal.xy = texture2D(normalMap, vUv).xy * 2.0 - 1.0;\nnormal.z = sqrt(1.0 - clamp(dot(normal.xy, normal.xy), 0.0, 1.0));\n#elif defined(UMBRA_TEXTURE_SUPPORT_BC3)\nnormal.xy = texture2D(normalMap, vUv).yw * 2.0 - 1.0;\nnormal.z = sqrt(1.0 - clamp(dot(normal.xy, normal.xy), 0.0, 1.0));\n#else\nnormal.xyz = texture2D(normalMap, vUv).xyz;\nnormal.xy *= 2.0;\nnormal.xy -= 1.0;\nnormal = normalize(normal);\n#endif\n\nnormal = tangentToWorld0 * normal.x + tangentToWorld1 * normal.y + tangentToWorld2 * normal.z;\nnormal = normalize(normal);\n#endif\n#endif\n\n`\n\nconst metalnessMapChunk = `\nfloat metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\nvec4 texelMetalness = texture2D( metalnessMap, vUv );\nmetalnessFactor *= texelMetalness.r;\n#endif\n`\n\n// The BSDF function (see 'bsdfs.glsl') squares the roughness so we don't need to do it here.\nconst roughnessMapChunk = `\nfloat roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\nvec4 texelRoughness = texture2D( roughnessMap, vUv );\nfloat roughness = 1.0 - texelRoughness.g;\nroughnessFactor *= roughness;\n#endif\n`\n\n/**\n * ShaderPatcher is a preprocessor class that replaces the default PBR texture read\n * shader chunks with the correct Umbra versions. Doing it this way instead of completely\n * custom shaders allows the application to use its own materials with Umbra scenes.\n */\nclass ShaderPatcher {\n  flipTangent: boolean\n  defines: string\n\n  constructor(formats: string[]) {\n    /*\n     * World space transform can swap handedness which isn't handled by three.js in tangent space\n     * normal maps so we need to be able to flip them ourselves.\n     */\n    this.flipTangent = false\n\n    // Texture format feature flags\n    this.defines = ''\n\n    if (formats.indexOf('bc3') > -1) {\n      this.defines += '#define UMBRA_TEXTURE_SUPPORT_BC3\\n'\n    }\n    if (formats.indexOf('bc5') > -1) {\n      this.defines += '#define UMBRA_TEXTURE_SUPPORT_BC5\\n'\n    }\n    if (formats.indexOf('astc_4x4') > -1) {\n      this.defines += '#define UMBRA_TEXTURE_SUPPORT_ASTC\\n'\n    }\n  }\n\n  process(shader: THREE.Shader, renderer: THREE.WebGLRenderer) {\n    let frag = shader.fragmentShader\n\n    if (this.flipTangent) {\n      frag = '#define UMBRA_FLIP_TANGENT\\n' + frag\n    }\n\n    frag = this.defines + frag\n    frag = frag.replace('#include <normal_fragment_maps>', normalmapChunk)\n    frag = frag.replace('#include <metalnessmap_fragment>', metalnessMapChunk)\n    frag = frag.replace('#include <roughnessmap_fragment>', roughnessMapChunk)\n\n    shader.fragmentShader = frag\n  }\n}\n\nexport { ShaderPatcher }\n","export class ObjectPool<T> {\n  usedList: Array<T> = []\n  freeList: Array<T> = []\n\n  // Tries to find an object matching \"predicate\", if any given.\n  // Constructs a new object with \"makeFunc\" if none were found.\n  allocate(makeFunc: () => T, predicate?: (x: T) => boolean) {\n    let obj: T\n\n    if (this.freeList.length > 0) {\n      // If no predicate given we always take the last one\n      if (typeof predicate === 'undefined') {\n        obj = this.freeList.pop()\n      } else {\n        for (let i = 0; i < this.freeList.length; i++) {\n          const elem: T = this.freeList[i]\n          if (predicate(elem)) {\n            obj = elem\n            this.freeList.splice(i, 1)\n            break\n          }\n        }\n      }\n    }\n\n    if (!obj) {\n      obj = makeFunc()\n    }\n\n    this.usedList.push(obj)\n    return obj\n  }\n\n  freeAll(clearFunc?: (obj: T) => void) {\n    for (let i = 0; i < this.usedList.length; i++) {\n      if (clearFunc) {\n        clearFunc(this.usedList[i])\n      }\n      this.freeList.push(this.usedList[i])\n    }\n    this.usedList.length = 0\n  }\n\n  clear() {\n    this.usedList.length = 0\n    this.freeList.length = 0\n  }\n}\n","import * as THREE from './ThreeWrapper'\n\nimport {\n  TextureType,\n  PlatformFeatures,\n  Runtime,\n  NativeScene,\n  View,\n  Renderable,\n  ConnectionStatus,\n} from '@umbra3d/umbrajs'\nimport { SharedFrameState } from './SharedFrameState'\nimport { PublicLink } from './PublicLink'\nimport { ShaderPatcher } from './ShaderPatcher'\nimport { ObjectPool } from './ObjectPool'\n\nexport interface SceneFactory {\n  createScene(link: string | PublicLink): UmbraScene\n  createSceneWithURL(url: string): UmbraScene\n}\n\ntype UmbraMesh = THREE.Mesh & { isUmbraMesh: true }\n\ninterface SceneStatus {\n  connected: boolean\n  sceneInfo?\n  numVisible: number\n  numShadowCasters: number\n  numCachedMaterials: number\n  numAssets: number\n}\n\n/**\n * A wrapper type for mesh geometry and its material. Only UmbraScene instantiates the\n * THREE.Mesh objects that are passed to the renderer. UmbraScene also creates the final\n * THREE.Material instance using the textures and transparency flag in 'materialDesc'\n */\nexport interface MeshDescriptor {\n  geometry\n  materialDesc\n}\n\ntype DisposeCallback = (m: UmbraScene) => void\n\nexport class UmbraScene extends THREE.Object3D {\n  // User editable config\n  material: THREE.Material = new THREE.MeshBasicMaterial()\n  wireframe = false\n  freeze = false\n\n  // Event callbacks\n  onConnected: () => void\n  onConnectionError: (error: string) => void\n  onDisconnected: () => void\n  onConnectionChanged: (connected: ConnectionStatus) => void\n  onMeshChanged: () => void\n\n  // We need to present ourselves as a LOD object to get the update() call\n  readonly isLOD = true\n  readonly autoUpdate = true\n  readonly name = 'UmbraScene'\n\n  set quality(value: number) {\n    console.error(`UmbraScene.quality is not supported any more. Use camera.umbraQuality instead.`)\n  }\n\n  private renderer: THREE.WebGLRenderer\n\n  private materialPool = new ObjectPool<THREE.Material>()\n  private shaderPatcher: ShaderPatcher\n  private sharedState: SharedFrameState\n\n  private stats = {\n    numVisible: 0,\n    numShadowCasters: 0,\n    numCachedMaterials: 0,\n    numAssets: 0,\n  }\n\n  private diagnostics = {\n    missingNormals: {\n      checked: false,\n      message:\n        'Property umbraScene.opaqueMaterial has been deprecated. Use umbraScene.material instead.',\n    },\n    deprecatedMaterial: {\n      checked: false,\n      message: 'UmbraScene has no normals so it will appear black.',\n    },\n    report: (field: string) => {\n      if (!this.diagnostics[field].checked) {\n        this.diagnostics[field].checked = true\n        console.warn(this.diagnostics[field].message)\n      }\n    },\n  }\n\n  private umbra: {\n    runtime: NonNullable<Runtime>\n    nativeScene: NonNullable<NativeScene>\n  }\n\n  private onDispose: DisposeCallback\n\n  // We need to keep track of changes to emit events\n  private oldState = {\n    status: undefined,\n    visibleIDs: new Set<number>(),\n  }\n\n  // UmbraScene should be instantiated using Umbra.createScene()\n  constructor(\n    runtime: Runtime,\n    scene: NativeScene,\n    sharedState: SharedFrameState,\n    renderer: THREE.WebGLRenderer,\n    features: PlatformFeatures,\n    onDispose: DisposeCallback = undefined,\n  ) {\n    super()\n\n    this.renderer = renderer\n    this.sharedState = sharedState\n    this.shaderPatcher = new ShaderPatcher(features.formats)\n    this.onDispose = onDispose\n\n    // We need to flip the Z-axis since scenes are stored in \"left-handed Y is up\" coordinate system\n    this.scale.set(1.0, 1.0, -1.0)\n\n    // Add API objects under their own object for clarity\n    this.umbra = {\n      runtime: runtime,\n      nativeScene: scene,\n    }\n  }\n\n  get opaqueMaterial() {\n    this.diagnostics.report('deprecatedMaterial')\n    return this.material\n  }\n\n  set opaqueMaterial(mat) {\n    this.diagnostics.report('deprecatedMaterial')\n    this.material = mat\n  }\n\n  getInfo(): SceneStatus {\n    const info = { connected: this.umbra.nativeScene.isConnected() }\n    if (info.connected) {\n      info['sceneInfo'] = this.umbra.nativeScene.getInfo()\n    }\n    Object.assign(info, this.stats)\n    return info as SceneStatus\n  }\n\n  getBounds(): THREE.Box3 {\n    if (!this.umbra.nativeScene.isConnected()) {\n      return undefined\n    }\n\n    const info = this.umbra.nativeScene.getInfo()\n    const bounds = info.bounds\n    const min = bounds.mn\n    const max = bounds.mx\n    const box = new THREE.Box3(\n      new THREE.Vector3(min[0], min[1], min[2]),\n      new THREE.Vector3(max[0], max[1], max[2]),\n    )\n    return box\n  }\n\n  getCenter(): THREE.Vector3 {\n    const bounds = this.getBounds()\n    bounds.applyMatrix4(this.matrixWorld)\n    const center = new THREE.Vector3()\n    bounds.getCenter(center)\n    return center\n  }\n\n  private updateStreamingEvents(visibleIDs: Set<number>) {\n    const then = this.oldState.visibleIDs\n    const now = visibleIDs\n\n    if (this.onMeshChanged) {\n      if (then.size !== now.size) {\n        this.onMeshChanged()\n      } else {\n        for (const id of now) {\n          if (!then.has(id)) {\n            this.onMeshChanged()\n            break\n          }\n        }\n      }\n    }\n\n    this.oldState.visibleIDs = visibleIDs\n  }\n\n  // This gets called by ThreejsIntegration's periodic update handler\n  private updateNetworkEvents() {\n    const status = this.umbra.nativeScene.connectionStatus()\n\n    if (this.oldState.status !== status) {\n      if (this.onConnectionChanged) {\n        this.onConnectionChanged(status)\n      }\n\n      switch (status) {\n        case ConnectionStatus.ConnectionError:\n          if (this.onConnectionError) {\n            this.onConnectionError('Could not connect')\n          }\n          break\n        case ConnectionStatus.Connected:\n          if (this.onConnected) {\n            this.onConnected()\n          }\n          break\n        case ConnectionStatus.Connecting:\n          if (this.onDisconnected) {\n            this.onDisconnected()\n          }\n          break\n      }\n    }\n\n    this.oldState.status = status\n  }\n\n  update = function(camera: THREE.Camera) {\n    if (this.freeze) {\n      return\n    }\n\n    if (this.umbra.nativeScene.ptr === 0) {\n      console.warn('Renderer tried to update a disposed UmbraScene')\n      return\n    }\n\n    let view: View = this.sharedState.cameraToView.get(camera)\n\n    if (!view) {\n      view = this.umbra.runtime.createView()\n      this.sharedState.cameraToView.set(camera, view)\n    }\n\n    this.sharedState.viewLastUseFrame.set(view, this.renderer.info.render.frame)\n\n    this.umbra.nativeScene.setTransform(this.matrixWorld.elements)\n\n    // If we are using a PBR material then we might need to flip the tangent vector\n    if (this.isPBREnabled()) {\n      // TODO(pvaananen): Would be nice to avoid recalculating the determinant every frame.\n      const flip = this.matrixWorld.determinant() < 0\n\n      if (flip !== this.shaderPatcher.flipTangent) {\n        this.shaderPatcher.flipTangent = flip\n        this.materialPool.clear()\n      }\n    }\n\n    this.stats.numVisible = 0\n    this.stats.numAssets = this.umbra.runtime.assets.size\n\n    /**\n     * Next we find the visible Umbra meshes and add them to the scene graph.\n     * This is pretty tricky, because we want more meshes to show up in the shadow map pass\n     * than in the main camera render pass. This is why 'mesh.castShadow' doesn't help here\n     * since it does the exact opposite.\n     *\n     * We use a workaround that first adds the common meshes as children of the Umbra scene\n     * object but stashes the shadow caster meshes (visible only from lights) to an extra\n     * list 'shadowCasters'.\n     *\n     * The trick is that after the children, we add a 'proxy' object that presents itself\n     * as a 'LOD' object. As a consequence it gets its own update() call, and there we go\n     * and add the shadow casters also to the children list. At this point the opaque\n     * renderable objects were already collected to their own render list, so 'children'\n     * is safe to modify.\n     *\n     * In essence, the flow is the following.\n     *\n     *    three.js                           scene object (this)\n     *    --------                           ------------------\n     *    Starts traversing three.js scene graph\n     *    Calls scene.update(cam) ---------> Updates views\n     *                                       Fetches a list of renderables\n     *                                       Adds common meshes to this.children\n     *    Adds scene.children to\n     *      the render list\n     *    Starts rendering scene.children\n     *    Calls proxy.update(cam) ---------> Proxy goes and adds shadow casters to this.children\n     *    Starts the shadow pass\n     *    Adds scene.children to shadow\n     *      render list\n     *    Renders the shadow pass\n     *    Renders the opaque pass\n     *    Renders the transparent pass\n     *\n     * As you can see, the 'this.children' list is mutated halfway through the renderer's\n     * scene graph traversal so that different object list ends up to the shadow pass render code.\n     */\n\n    // First filter away last frame's meshes\n    const newChildren = []\n    for (let i = 0; i < this.children.length; i++) {\n      if (!this.children[i].isUmbraMesh) {\n        newChildren.push(this.children[i])\n      }\n    }\n\n    this.children = newChildren\n\n    const shadowCasters = []\n\n    const proxy = new THREE.Object3D() as any\n    proxy.isLOD = true\n    proxy.autoUpdate = true\n    proxy.update = cam => {\n      // Remove the proxy itself\n      this.children.pop()\n\n      // Add the shadow casters\n      for (let i = 0; i < shadowCasters.length; i++) {\n        this.children.push(shadowCasters[i])\n      }\n    }\n\n    this.materialPool.freeAll(mat => {\n      // Remove references to textures so GC can release the three.js objects\n      delete mat.map\n      delete mat.normalMap\n      delete mat.metalnessMap\n      delete mat.roughnessMap\n    })\n\n    let visible: Renderable[] = []\n    const visibleIDs: Set<number> = new Set()\n\n    // On the first frame the view didn't yet exist when UmbrajsThreeInternal collected a list of renderables,\n    // so the list in \"viewRenderables\" may be missing.\n    if (this.sharedState.viewRenderables.has(view)) {\n      visible = this.sharedState.viewRenderables.get(view)\n    }\n\n    for (let i = 0; i < visible.length; i++) {\n      // Each view's list includes renderables of all UmbraScenes, so we need to pick only the relevant ones here.\n      if (visible[i].scenePtr !== this.umbra.nativeScene.ptr) {\n        continue\n      }\n\n      const { materialDesc, geometry } = visible[i].mesh as MeshDescriptor\n      visibleIDs.add(visible[i].id)\n      this.stats.numVisible += 1\n\n      const isTransparent = materialDesc.transparent || this.material.transparent\n\n      // Fetch a new material from the pool if we already have free ones. This avoids\n      // extra allocations and more importantly 'onBeforeCompile' calls.\n      const material = this.materialPool.allocate(\n        () => this.material.clone(),\n        (mat: THREE.Material) => {\n          return mat.transparent === isTransparent\n        },\n      )\n\n      material.wireframe = this.wireframe\n      material.opacity = this.material.opacity\n      material.transparent = isTransparent\n\n      material.onBeforeCompile = (shader, renderer) => {\n        /**\n         * If the original material already had a custom preprocessor callback we need to call\n         * that first. We need to use 'apply' in case the callback uses 'this' reference to\n         * access some material properties.\n         */\n        if (this.material.onBeforeCompile) {\n          this.material.onBeforeCompile.apply(material, [shader, renderer])\n        }\n\n        this.shaderPatcher.process(shader, renderer)\n      }\n\n      const diffuseMap = materialDesc.textures[TextureType.Diffuse]\n      const normalMap = materialDesc.textures[TextureType.Normal]\n      const metalglossMap = materialDesc.textures[TextureType.Specular]\n\n      if (diffuseMap && diffuseMap.isTexture) {\n        material.map = diffuseMap\n      }\n\n      if (normalMap && normalMap.isTexture) {\n        material.normalMap = normalMap\n        material.vertexTangents = true\n        material.normalMapType = THREE.TangentSpaceNormalMap\n      }\n\n      if (metalglossMap && metalglossMap.isTexture) {\n        material.metalnessMap = metalglossMap\n        material.metalness = 1.0\n        material.roughnessMap = metalglossMap\n        material.roughness = 1.0\n      }\n\n      /**\n       * We instatiate new Mesh objects each frame but the constructor is very cheap\n       * and the references should live for a very short time since 'this.children'\n       * gets cleared every frame.\n       */\n      const mesh = new THREE.Mesh(geometry, material) as UmbraMesh\n      mesh.isUmbraMesh = true\n      mesh.matrixWorld.copy(this.matrixWorld)\n      mesh.castShadow = this.castShadow\n      mesh.receiveShadow = this.receiveShadow\n      mesh.visible = true\n      this.children.push(mesh)\n\n      // TODO(pvaananen): Does this check work with multiple cameras?\n      if ((visible[i].mask & 0x01) === 0) {\n        shadowCasters.push(mesh)\n        mesh.frustumCulled = true\n      } else {\n        this.children.push(mesh)\n        mesh.frustumCulled = false\n      }\n    }\n\n    // Emit a warning if normals are required but missing\n    if (!this.diagnostics.missingNormals.checked && this.isPBREnabled()) {\n      for (let i = 0; i < this.children.length; i++) {\n        if (!this.children[i].isUmbraMesh) {\n          continue\n        }\n        if (!('normal' in this.children[i].geometry.attributes)) {\n          this.diagnostics.report('missingNormals')\n          break\n        }\n      }\n    }\n\n    this.stats.numShadowCasters = shadowCasters.length\n    this.stats.numCachedMaterials =\n      this.materialPool.usedList.length + this.materialPool.freeList.length\n\n    if (shadowCasters.length > 0) {\n      this.children.push(proxy)\n    }\n\n    this.updateStreamingEvents(visibleIDs)\n  }\n\n  dispose() {\n    if (this.onDispose) {\n      this.onDispose(this)\n    }\n\n    // Remove all Umbra meshes from children\n    this.children = this.children.filter((x: UmbraMesh) => !x.isUmbraMesh)\n\n    // Dispose all cached materials\n    this.materialPool.freeAll(mat => mat.dispose())\n\n    // We don't dispose mesh geometries here because they are managed by the Runtime, and\n    // Views are managed by UmbrajsThreeInternal.\n\n    this.umbra.nativeScene.destroy()\n    // Runtime must be manually freed by the user with .dispose() of the API object\n  }\n\n  private isPBREnabled() {\n    return 'normalMapType' in this.material\n  }\n}\n","import * as THREE from './ThreeWrapper'\nimport { SceneFactory } from './Scene'\n\nexport class Loader extends THREE.Loader {\n  private Umbra: SceneFactory\n  constructor(Umbra: SceneFactory, manager?: THREE.LoadingManager) {\n    super(manager)\n    this.Umbra = Umbra\n  }\n\n  load(url: string, onLoad, onProgress, onError) {\n    const model = this.Umbra.createScene(url)\n\n    if (onError) {\n      model.onConnectionError = err => {\n        onError(err)\n      }\n    }\n    model.onConnected = () => {\n      delete model.onConnectionError\n      if (onProgress) {\n        onProgress(1.0)\n      }\n      onLoad(model)\n    }\n  }\n}\n","import * as THREE from './ThreeWrapper'\nimport {\n  initUmbra,\n  deinitUmbra,\n  Math as UmbraMath,\n  Assets,\n  UmbraInstance,\n  PlatformFeatures,\n  TextureSupportFlags,\n  TextureType,\n  ColorSpace,\n  Runtime,\n  View,\n  Renderable,\n  VertexBuffer,\n} from '@umbra3d/umbrajs'\nimport { ThreeFormats } from './ThreeFormats'\nimport { PublicLink } from './PublicLink'\nimport { SharedFrameState } from './SharedFrameState'\nimport { UmbraScene, SceneFactory, MeshDescriptor } from './Scene'\nimport { WebGLRenderer } from 'three'\nimport { HeapBufferView } from '@umbra3d/umbrajs/dist/Heap'\n\nexport type UmbraCamera = THREE.Camera & {\n  umbraStreamingPosition?: THREE.Vector3\n  umbraQuality?: number\n}\n\nfunction makeBoundingSphere(aabb: UmbraMath.BoundingBox) {\n  const min = aabb[0]\n  const max = aabb[1]\n  const size = new THREE.Vector3(max[0] - min[0], max[1] - min[1], max[2] - min[2])\n  const pos = new THREE.Vector3(min[0] + size.x * 0.5, min[1] + size.y * 0.5, min[2] + size.z * 0.5)\n  return new THREE.Sphere(pos, size.length())\n}\n\nclass UmbrajsThreeInternal implements SceneFactory {\n  // Upper VRAM memory use limit in bytes\n  memoryLimit = 500 * 1024 * 1024\n  // Upper total download size limit in bytes. Turned off by default.\n  downloadLimit = 0\n  // This gets lowered automatically if memory limit is hit\n  qualityFactor = 1.0\n\n  onStreamingUpdate: (progress: number) => void\n  onStreamingComplete: () => void\n\n  // An instance of the umbrajs library for debugging\n  umbrajs: UmbraInstance\n\n  private runtime: Runtime\n  private features: PlatformFeatures\n  private renderer: WebGLRenderer\n  private updateTask: number = undefined\n\n  private assetSizes = new Map<any, number>()\n  private textureMemoryUsed = 0\n  private meshMemoryUsed = 0\n  private lastQualityLowerFrame = -1\n\n  private get memoryUsed() {\n    return this.textureMemoryUsed + this.meshMemoryUsed\n  }\n\n  private umbraScenes = new Set<UmbraScene>()\n\n  private oldState = {\n    progress: 0,\n    downloadLimitReached: false,\n  }\n\n  private sharedState: SharedFrameState = {\n    cameraToView: new Map<THREE.Camera, View>(),\n    viewRenderables: new Map<View, Renderable[]>(),\n    viewLastUseFrame: new Map<View, number>(),\n  }\n\n  // Temporary values we don't want to reallocate every frame\n  private tempVector = new THREE.Vector3()\n  private dirVector = new THREE.Vector3()\n  private matrixWorldInverse = new THREE.Matrix4()\n  private projScreenMatrix = new THREE.Matrix4()\n  private cameraWorldPosition = new THREE.Vector3()\n\n  // This class should be instantiated via initUmbra()\n  constructor(umbrajs: UmbraInstance, renderer: WebGLRenderer) {\n    let context: WebGLRenderingContext\n    // three.js r106 has no 'getContext'\n    if ('getContext' in renderer) {\n      context = renderer.getContext()\n    } else {\n      context = (renderer as any).context\n    }\n    const features = umbrajs.getPlatformFeatures(context)\n\n    // Three.js does not support BC5 compressed formats so we manually disable them.\n    features.textureSupportMask &= ~TextureSupportFlags.BC5\n\n    this.umbrajs = umbrajs\n    this.runtime = umbrajs.createRuntime(features)\n    this.renderer = renderer\n    this.features = features\n\n    this.startEventUpdate(1000 / 60)\n  }\n\n  startEventUpdate(interval: number) {\n    this.stopEventUpdate()\n    this.updateTask = window.setInterval(() => {\n      this.updateEvents()\n      this.umbraScenes.forEach(m => (m as any).updateNetworkEvents())\n    }, interval)\n  }\n\n  stopEventUpdate() {\n    if (typeof this.updateTask !== 'undefined') {\n      window.clearInterval(this.updateTask)\n      delete this.updateTask\n    }\n  }\n\n  private findLights(umbraScene: UmbraScene): Set<THREE.DirectionalLight> {\n    let parentScene\n    umbraScene.traverseAncestors(obj => {\n      if (obj['isScene']) {\n        parentScene = obj\n      }\n    })\n\n    if (!parentScene || (parentScene && !parentScene.isScene)) {\n      return new Set()\n    }\n\n    const lights: Set<THREE.DirectionalLight> = new Set()\n    parentScene.traverseVisible((obj: THREE.Object3D) => {\n      if (obj['isDirectionalLight'] && obj['castShadow']) {\n        lights.add(obj as THREE.DirectionalLight)\n      }\n    })\n\n    return lights\n  }\n\n  private pruneOldViews(frame: number): void {\n    /**\n     * We get no notification when cameras are removed from the scene graph\n     * so we'll go and remove views based on their age.\n     */\n    for (const [view, lastUsed] of this.sharedState.viewLastUseFrame) {\n      if (frame - lastUsed < 600) {\n        continue\n      }\n\n      for (const [cam, view2] of this.sharedState.cameraToView) {\n        if (view2 === view) {\n          this.sharedState.cameraToView.delete(cam)\n          break\n        }\n      }\n      view.destroy()\n      this.sharedState.viewLastUseFrame.delete(view)\n    }\n  }\n\n  private updateViews(): void {\n    const shared = this.sharedState\n\n    const lights: Set<THREE.DirectionalLight> = new Set()\n\n    if (this.renderer.shadowMap.enabled) {\n      for (const umbraScene of this.umbraScenes) {\n        for (const light of this.findLights(umbraScene)) {\n          lights.add(light)\n        }\n      }\n    }\n\n    const dir = this.dirVector\n    const vector3 = this.tempVector\n\n    const lightDirections = Array.from(lights).map(light => {\n      dir.setFromMatrixPosition(light.target.matrixWorld)\n      vector3.setFromMatrixPosition(light.matrixWorld)\n      dir.sub(vector3)\n      return [dir.x, dir.y, dir.z]\n    }, lights)\n\n    this.pruneOldViews(this.renderer.info.render.frame)\n\n    for (const [threeCamera, view] of shared.cameraToView) {\n      const camera: UmbraCamera = threeCamera\n\n      this.matrixWorldInverse.getInverse(camera.matrixWorld)\n      this.projScreenMatrix.multiplyMatrices(camera.projectionMatrix, this.matrixWorldInverse)\n\n      // By default we stream in meshes around the camera, but user can override it.\n      if ('umbraStreamingPosition' in camera) {\n        this.cameraWorldPosition.copy(camera.umbraStreamingPosition)\n      } else {\n        camera.getWorldPosition(this.cameraWorldPosition)\n      }\n\n      let quality = 0.5\n      if ('umbraQuality' in camera) {\n        quality = camera.umbraQuality\n      }\n\n      const pos = this.cameraWorldPosition\n      view.setCamera(\n        this.projScreenMatrix.elements,\n        [pos.x, pos.y, pos.z],\n        quality * this.qualityFactor,\n        lightDirections,\n      )\n\n      let list: Renderable[] = []\n      if (shared.viewRenderables.has(view)) {\n        list = shared.viewRenderables.get(view)\n        list.length = 0\n      } else {\n        shared.viewRenderables.set(view, list)\n      }\n\n      const batchSize = 500\n      let visible: Renderable[] = []\n      do {\n        visible = view.getVisible(batchSize)\n        list.push(...visible)\n      } while (visible.length === batchSize)\n    }\n  }\n\n  update(timeBudget = 7) {\n    const downloadLimitReached =\n      this.downloadLimit !== 0 && this.getStats().maxBytesDownloaded >= this.downloadLimit\n\n    // If the limit is reached we freeze all updates. Streaming will stop completely.\n    if (downloadLimitReached) {\n      if (!this.oldState.downloadLimitReached) {\n        this.umbrajs.abortDownloads()\n      }\n    } else {\n      const start = performance.now()\n      this.runtime.update()\n      const updateTook = performance.now() - start\n      this.runtime.loadAssets(this.handlers, timeBudget - updateTook)\n      this.updateViews()\n    }\n\n    this.oldState.downloadLimitReached = downloadLimitReached\n\n    if (this.memoryUsed / this.memoryLimit < 0.25) {\n      this.adjustQuality(1.1)\n    }\n  }\n\n  createScene(link: string | PublicLink): UmbraScene {\n    let url: string\n    if (typeof link === 'string') {\n      url = link\n    } else if (typeof link === 'object') {\n      if (('token' in link) as any) {\n        console.warn(\n          'Connection with {token, projectID, modelID} is deprecated. Use {key, project, model} or a string locator instad.',\n        )\n        link.key = link['token']\n        link.project = link['projectID']\n        link.model = link['modelID']\n      }\n\n      if (!('key' in link && 'project' in link && 'model' in link)) {\n        throw new Error(\n          'createScene() expects an object with properties \"key\", \"project\", and \"model\"',\n        )\n      }\n      url = `key=${link.key}&project=${link.project}&model=${link.model}`\n    } else {\n      throw new TypeError('expected either string or an object argument')\n    }\n\n    const umbraScene = new UmbraScene(\n      this.runtime,\n      this.runtime.createScenePublic(url),\n      this.sharedState,\n      this.renderer,\n      this.features,\n      s => this.umbraScenes.delete(s),\n    )\n    this.umbraScenes.add(umbraScene)\n    return umbraScene\n  }\n\n  createSceneWithURL(url: string): UmbraScene {\n    const scene = this.runtime.createSceneLocal(url)\n    const umbraScene = new UmbraScene(\n      this.runtime,\n      scene,\n      this.sharedState,\n      this.renderer,\n      this.features,\n      s => this.umbraScenes.delete(s),\n    )\n    this.umbraScenes.add(umbraScene)\n    return umbraScene\n  }\n\n  /**\n   * Returns streaming information. We can't tell which files came from the browser cache\n   * so we report lower and upper limits of the true download size.\n   *\n   * The returned object has the following fields:\n   *\n   *  'maxBytesDownloaded' an upper limit assuming no file was cached,\n   *  'minBytesDownloaded' the corresponding lower limit assuming all duplicates came from cache.\n   *  'textureMemoryUse' the number of bytes used by texture assets\n   *  'meshMemoryUse' the number of bytes used by mesh assets\n   *\n   */\n  getStats() {\n    return Object.assign(this.umbrajs.getStreamingInfo(), {\n      textureMemoryUsed: this.textureMemoryUsed,\n      meshMemoryUsed: this.meshMemoryUsed,\n    })\n  }\n\n  private canFitInMemory(bytes: number) {\n    return this.memoryUsed + bytes < this.memoryLimit\n  }\n\n  private adjustQuality(factor: number) {\n    if (this.renderer.info.render.frame == this.lastQualityLowerFrame) {\n      return\n    }\n    this.qualityFactor = Math.max(0, Math.min(1, this.qualityFactor * factor))\n    this.lastQualityLowerFrame = this.renderer.info.render.frame\n  }\n\n  // Converts a texture descriptor and a pixel buffer to a three.js compatible texture\n  private makeTexture(\n    info,\n    buffer: HeapBufferView,\n    glformat,\n  ): THREE.CompressedTexture | THREE.DataTexture {\n    const pixelData = buffer.getArray().slice() as THREE.TypedArray\n\n    let tex\n    if (glformat.compressed) {\n      const mip = {\n        width: info.width,\n        height: info.height,\n        data: pixelData as Uint8ClampedArray,\n      }\n      tex = new THREE.CompressedTexture([mip], info.width, info.height)\n    } else {\n      tex = new THREE.DataTexture(pixelData, info.width, info.height)\n    }\n\n    tex.format = glformat.format\n    tex.type = glformat.type\n    tex.magFilter = THREE.LinearFilter\n    tex.minFilter = THREE.LinearFilter\n    tex.anisotropy = 0\n\n    return tex\n  }\n\n  // AssetLoad handlers that create and remove materials, textures, and meshes\n  private handlers = {\n    LoadMaterial: (load: Assets.LoadMaterial) => {\n      const material = load.data\n      material.transparent = load.data.transparent ? true : false\n      load.prepare(this.runtime.addAsset(material))\n      load.finish(Assets.AssetLoadResult.Success)\n    },\n    UnloadMaterial: (unload: Assets.Unload) => {\n      this.runtime.removeAsset(unload, unload.data)\n      unload.finish()\n    },\n    LoadTexture: (load: Assets.LoadTexture) => {\n      const info = load.data.info\n      const buffer = load.data.buffer\n\n      let glformat\n\n      if (ThreeFormats.hasOwnProperty(info.format)) {\n        glformat = ThreeFormats[info.format]\n      }\n\n      if (!glformat) {\n        // Add a dummy object for unknown formats. They will appear as a solid black color.\n        console.log('Unknown texture format', info.format)\n        load.prepare(this.runtime.addAsset({ isTexture: false }))\n        load.finish(Assets.AssetLoadResult.Success)\n        return\n      }\n\n      if (!this.canFitInMemory(buffer.size)) {\n        load.finish(Assets.AssetLoadResult.OutOfMemory)\n        this.adjustQuality(0.8)\n        return\n      }\n\n      const tex = this.makeTexture(info, buffer, glformat)\n\n      /**\n       * A workaround for the case where we directly output colors in gamma space.\n       * We make diffuse textures linear to avoid gamma expansion at texture fetch time.\n       * This is slightly wrong because texture filtering and shading will be done\n       * in gamma space, but this behavior is what people usually expect.\n       */\n      let gammaOutput = false\n      if ('outputEncoding' in this.renderer) {\n        // three.js version 112 and after\n        gammaOutput = this.renderer['outputEncoding'] === THREE.sRGBEncoding\n      } else if ('gammaOutput' in this.renderer) {\n        // three.js prior to version 112\n        gammaOutput = this.renderer['gammaOutput']\n      }\n\n      if (info.type === TextureType.Diffuse && !gammaOutput) {\n        tex.encoding = THREE.LinearEncoding\n      } else {\n        tex.encoding =\n          info.colorSpace === ColorSpace.Linear ? THREE.LinearEncoding : THREE.sRGBEncoding\n      }\n\n      tex.needsUpdate = true\n\n      this.textureMemoryUsed += buffer.size\n      this.assetSizes.set(tex, buffer.size)\n      load.prepare(this.runtime.addAsset(tex))\n      load.finish(Assets.AssetLoadResult.Success)\n    },\n    UnloadTexture: (unload: Assets.Unload) => {\n      // Free texture data only if it's not a dummy texture\n      if (unload.data.isTexture) {\n        unload.data.dispose()\n      }\n\n      if (this.assetSizes.has(unload.data)) {\n        this.textureMemoryUsed -= this.assetSizes.get(unload.data)\n        this.assetSizes.delete(unload.data)\n      }\n\n      this.runtime.removeAsset(unload, unload.data)\n      unload.finish()\n    },\n    LoadMesh: (load: Assets.LoadMesh) => {\n      /**\n       * LoadMesh gives us all the vertex data in load.data.buffers.\n       * The buffers are only valid during this handler, and the memory will be\n       * reused for other meshes later. Therefore we make copies of the arrays\n       * for three.js which is something we would have to do anyway.\n       */\n\n      const attribs = {\n        position: { components: 3 },\n        normal: { components: 3 },\n        uv: { components: 2 },\n        tangent: { components: 3 },\n      }\n\n      let totalSize = 0\n      Object.keys(attribs)\n        .map(name => load.data.buffers[name])\n        .forEach(buffer => {\n          if (buffer) {\n            totalSize += buffer.data.size\n          }\n        })\n\n      if (!this.canFitInMemory(totalSize)) {\n        load.finish(Assets.AssetLoadResult.OutOfMemory)\n        this.adjustQuality(0.8)\n        return\n      }\n\n      const geometry = new THREE.BufferGeometry()\n      const indexArray = load.data.buffers['index'].data.getArray()\n      const indices = Array.from(indexArray as any)\n      geometry.setIndex(indices as number[])\n      geometry.boundingSphere = makeBoundingSphere(load.data.bounds)\n\n      Object.keys(attribs).forEach(name => {\n        const buffer = load.data.buffers[name] as VertexBuffer\n\n        if (buffer) {\n          const view = buffer.data\n          const array = view.getArray()\n          const attrib = new THREE.Float32BufferAttribute(array.slice(), attribs[name].components)\n\n          if ('setAttribute' in (geometry as any)) {\n            // three.js v112\n            geometry['setAttribute'](name, attrib)\n          } else {\n            // three.js prior to v112\n            geometry['addAttribute'](name, attrib)\n          }\n        }\n      })\n\n      const meshDescriptor: MeshDescriptor = {\n        geometry,\n        materialDesc: load.data.material,\n      }\n\n      this.meshMemoryUsed += totalSize\n      this.assetSizes.set(meshDescriptor, totalSize)\n      load.prepare(this.runtime.addAsset(meshDescriptor))\n      load.finish(Assets.AssetLoadResult.Success)\n    },\n    UnloadMesh: (unload: Assets.Unload) => {\n      const meshDesc = unload.data\n      if (this.assetSizes.has(unload.data)) {\n        this.meshMemoryUsed -= this.assetSizes.get(unload.data)\n        this.assetSizes.delete(unload.data)\n      }\n      // Tell Umbra's runtime that this asset doesn't exist anymore and finish the job\n      this.runtime.removeAsset(unload, meshDesc)\n      // Release three.js's resources\n      meshDesc.geometry.dispose()\n      unload.finish()\n    },\n  }\n\n  private updateEvents() {\n    const progress = this.getStreamingProgress()\n    if (this.oldState.progress != progress) {\n      if (this.onStreamingUpdate) {\n        this.onStreamingUpdate(progress)\n      }\n      if (progress === 1.0 && this.onStreamingComplete) {\n        this.onStreamingComplete()\n      }\n    }\n\n    this.oldState.progress = progress\n  }\n\n  getStreamingProgress(): number {\n    return this.runtime.getStreamingProgress()\n  }\n\n  dispose() {\n    this.stopEventUpdate()\n\n    for (const view of this.sharedState.cameraToView.values()) {\n      view.destroy()\n    }\n\n    this.umbraScenes.forEach((m: UmbraScene) => m.dispose())\n\n    this.sharedState.cameraToView.clear()\n    this.umbraScenes.clear()\n\n    this.runtime.assets.forEach((asset, userPtr) => {\n      if ('geometry' in asset) {\n        asset.geometry.dispose()\n      }\n      if ('dispose' in asset) {\n        asset.dispose()\n      }\n    })\n\n    this.assetSizes.clear()\n    this.textureMemoryUsed = 0\n    this.meshMemoryUsed = 0\n\n    this.runtime.destroy()\n    this.runtime = undefined\n\n    deinitUmbra(this.umbrajs)\n  }\n}\n\nexport function initWithThreeJS(renderer: THREE.WebGLRenderer, userConfig: { wasmURL?: string }) {\n  if (!renderer) {\n    throw new TypeError('\"renderer\" should be of type THREE.WebGLRenderer')\n  }\n\n  return initUmbra(userConfig).then(Umbra => {\n    return new UmbrajsThreeInternal(Umbra, renderer)\n  })\n}\n\n// Hide the library object constructor by wrapping it in an interface\ninterface UmbrajsThree extends UmbrajsThreeInternal {}\nexport { UmbraScene as Scene, UmbrajsThree }\nexport { Loader } from './Loader'\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Object","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","_scriptDir","MatrixFormat","TextureType","TextureFormat","ColorSpace","VertexAttribute","BufferFlags","LogLevel","TransferStatus","HeaderError","HttpMethod","LibraryInfo","InvalidUserPointer","TextureSupportFlags","RuntimeFlags","ConnectionStatus","DepthRange","FilterShapeType","SceneCopyStatus","SceneCopyDestinationType","SceneCopySourceType","AssetType","AssetLoadResult","RayQueryFlags","UmbraNativeAPI","document","currentScript","src","undefined","c","p","aa","hasOwnProperty","arguments","thisProgram","quit","a","b","preRun","postRun","u","indexOf","substr","lastIndexOf","ba","print","console","log","bind","v","printErr","warn","da","ea","f64-rem","debugger","WebAssembly","w","x","fa","z","ha","ia","d","e","f","string","ka","ja","array","A","set","g","k","h","l","la","B","apply","ma","D","C","qa","ra","E","_F","sa","ta","na","TextDecoder","oa","subarray","decode","String","fromCharCode","charCodeAt","pa","ua","HEAP8","Int8Array","HEAP16","Int16Array","HEAP32","Int32Array","HEAPU8","Uint8Array","HEAPU16","Uint16Array","HEAPU32","Uint32Array","HEAPF32","Float32Array","HEAPF64","Float64Array","va","TOTAL_MEMORY","wa","shift","Sb","Pb","dynCall_v","dynCall_vi","wasmMemory","Memory","initial","buffer","byteLength","xa","za","Aa","Ba","Ca","Da","unshift","G","Fa","Ga","H","startsWith","preloadedImages","preloadedAudios","Ha","locateFile","Ia","wasmBinary","Ka","asm","exports","monitorRunDependencies","instance","fetch","Promise","credentials","then","ok","arrayBuffer","instantiate","env","global","NaN","Infinity","global.Math","Math","asm2wasm","instantiateWasm","instantiateStreaming","memory","table","Table","maximum","element","__memory_base","__table_base","Ma","alert","m","t","q","r","XMLHttpRequest","open","withCredentials","responseType","y","hc","ic","onload","status","response","URLsDownloaded","maxBytesDownloaded","has","add","minBytesDownloaded","dynCall_viii","dynCall_viiii","uc","S","Y","onerror","onabort","setRequestHeader","btoa","split","send","slice","La","Oa","push","Na","Pa","Qa","_I","J","Ra","Sa","Ta","pop","Ua","this","fromWireType","K","L","Va","Wa","replace","Xa","Function","Ya","Error","name","message","stack","create","Za","$a","M","forEach","ab","bb","N","cb","O","cc","db","P","value","eb","Tb","R","fb","gb","hb","jb","Nb","Xb","ib","vc","lb","FUNCTION_TABLE","join","mb","nb","ob","qb","T","rb","sb","tb","ub","V","Bb","_Cb","U","Db","W","Ab","Gb","yb","zb","Kb","Hb","Jb","Ob","Qb","pointerLockElement","canvas","mozPointerLockElement","webkitPointerLockElement","msPointerLockElement","preloadPlugins","Rb","MozBlobBuilder","WebKitBlobBuilder","Ub","window","URL","webkitURL","Wb","canHandle","test","handle","Blob","type","Vb","size","ca","append","getBlob","createObjectURL","Image","complete","createElement","width","height","getContext","drawImage","revokeObjectURL",".ogg",".wav",".mp3","Audio","addEventListener","noExitRuntime","setTimeout","requestPointerLock","mozRequestPointerLock","webkitRequestPointerLock","msRequestPointerLock","exitPointerLock","mozExitPointerLock","webkitExitPointerLock","msExitPointerLock","elementPointerLock","preventDefault","Yb","Zb","X","$b","parentNode","fullscreenElement","mozFullScreenElement","msFullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","exitFullscreen","ac","SDL","screen","bc","insertBefore","removeChild","onFullScreen","onFullscreen","appendChild","requestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","webkitRequestFullScreen","xc","ec","cancelFullScreen","mozCancelFullScreen","msExitFullscreen","webkitCancelFullScreen","fc","Eb","requestAnimationFrame","Date","now","max","jpg","jpeg","png","bmp","ogg","wav","mp3","gc","kc","forcedAspectRatio","round","min","style","removeProperty","setProperty","jc","lc","mc","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","onupgradeneeded","target","result","transaction","objectStoreNames","contains","objectStore","createObjectStore","onsuccess","error","nc","qc","onExit","Lb","_exit","_fflush","InternalError","sc","tc","BindingError","count_emval_handles","get_first_emval","UnboundTypeError","requestFullScreen","setCanvasSize","pauseMainLoop","resumeMainLoop","setStatus","statusMessage","Ib","preMainLoop","postMainLoop","audio","Fb","setImmediate","data","stopPropagation","postMessage","xb","getUserMedia","navigator","mozGetUserMedia","createContext","antialias","alpha","GL","GLctx","wc","dateNow","performance","$","___errno_location","oc","pc","stat","rc","I","map","concat","ya","read","write","toWireType","argPackAdvance","readValueFromPointer","j","kb","pb","n","Q","Z","Mb","s","o","F","ArrayBuffer","Uint8ClampedArray","_","dc","wb","deleteObject","vb","abort","get","put","grow","getUTCSeconds","getUTCMinutes","getUTCHours","getUTCDate","getUTCMonth","getUTCFullYear","getUTCDay","getTime","UTC","_UmbraAssetLoadAbortRequested","_UmbraAssetLoadFinish","ga","_UmbraAssetLoadGetType","_UmbraAssetLoadPrepare","_UmbraAssetUnloadFinish","_UmbraAssetUnloadGetType","_UmbraAssetUnloadGetUserPointer","_UmbraClientCreate","_UmbraClientDestroy","_UmbraConfigInit","_UmbraEcefToGeodetic","_UmbraEnvironmentInfoDefaults","_UmbraGeodeticToEcef","_UmbraGetLibraryInfo","_UmbraMaterialLoadGetInfo","_UmbraMeshLoadFinishExternal","_UmbraMeshLoadGetData","_UmbraMeshLoadGetInfo","_UmbraMeshLoadGetSerializedSize","_UmbraMeshLoadSerialize","_UmbraMeshStreamDone","_UmbraMeshStreamNext","_UmbraMeshStreamSetBuffers","_UmbraRuntimeCreate","_UmbraRuntimeDestroy","_UmbraRuntimeGetStreamingState","Ea","_UmbraRuntimeNextAssetLoad","_UmbraRuntimeNextAssetUnload","_UmbraRuntimeUpdate","_UmbraSceneCopyCreate","_UmbraSceneCopyDestroy","Ja","_UmbraSceneCopyGetError","_UmbraSceneCopyGetStatus","_UmbraSceneCreate","_UmbraSceneCreateLocal","_UmbraSceneCreatePublic","_UmbraSceneDestroy","_UmbraSceneGetConnectionStatus","_UmbraSceneGetInfo","_UmbraSceneSetTransform","_UmbraSendInternalMessage","_UmbraSetAllocator","_UmbraSetHttp","_UmbraSetLogger","_UmbraTextureGetMipmapLevelByteSize","_UmbraTextureGetMipmapLevelOffset","_UmbraTextureLoadGetData","_UmbraTextureLoadGetInfo","_a","_UmbraTextureLoadGetSerializedSize","_UmbraTextureLoadSerialize","_UmbraTextureMetaDataGetClassification","_UmbraTextureMetaDataGetClassificationAmount","_UmbraTextureMetaDataGetClassificationCount","_UmbraTextureMetaDataLoadGetData","_UmbraVertexAttributeGetElementByteSize","_UmbraViewCreate","_UmbraViewDestroy","_UmbraViewGetCompleted","_UmbraViewNextRenderables","_UmbraViewRayQuery","_UmbraViewResetRenderables","_UmbraViewUpdateFilter","_UmbraViewUpdateRendering","___embind_register_native_and_builtin_types","___getTypeName","_free","_malloc","globalCtors","stackAlloc","stackRestore","stackSave","dynCall_i","dynCall_ii","dynCall_iii","dynCall_iiii","dynCall_iiiii","dynCall_iiiiii","dynCall_iiiiiiiiii","dynCall_iiiji","dynCall_jiji","Cb","dynCall_vii","zc","calledRun","onRuntimeInitialized","onAbort","dynCall_viiiii","dynCall_viiiiii","dynCall_viiiiiiiii","cwrap","every","yc","run","preInit","Set","wgetRequests","Assets","freeze","arrayNameToHeapName","Map","textureFormatToArrayType","RGB565","RGBA32","RG8","RG16F","RGB_FLOAT32","RGB24","UINT32","assertInteger","Number","isInteger","Module","Buffer","[object Object]","ofs","BYTES_PER_ELEMENT","newSize","destroy","BufferView","start","heapName","renderableStructOffsets","getRenderableMemberOffsets","copyMat4","buf","elements","Client","ptr","configPtr","CONFIG_SIZE","configInit","clientCreate","clientDestroy","NativeScene","matrixBuffer","infoBuffer","sceneInfoSize","sceneDestroy","sceneGetConnectionStatus","sceneGetInfo","deserializeSceneInfo","connectionStatus","Connected","matrix","floats","sceneSetTransform","View","runtimeAssets","vectorBuffer","lightBuffer","temp","MAX_LIGHTS","viewDestroy","worldToClip","positionVector","quality","lights","depthRange","MinusOneToOne","matrixFormat","ColumnMajor","viewUpdateRendering","batchSize","bufferSize","renderableSize","strideInWords","bufferWordSize","getView","arrayType","heap","meshIDs","lodLevels","masks","scenePointers","count","viewNextRenderables","output","id","lod","mask","scenePtr","mesh","AssetLoad","assetType","assetLoadGetType","userPtr","assetLoadPrepare","assetLoadFinish","AssetUnload","userPointer","assetUnloadGetType","assetUnloadGetUserPointer","assetUnloadFinish","vertexBufferMap","Loader","load","info","vertexBuffers","meshLoadGetInfo","meshInfoBuffer","deserializeMeshInfo","buffers","structBuffer","bytes","fill","tempDataBuffer","serializeElementBuffer","position","desc","index","uv","elementBufferSize","normal","tangent","meshStreamSetBuffers","meshStreamNext","meshStreamDone","_this","indexBytes","numUniqueVertices","attrInfo","elemSize","vertexAttributeGetElementByteSize","Position","TextureCoordinate","Normal","Tangent","numIndices","bufferSizes","keys","byteSize","meshBuffers","attributes","getBufferForAttribute","elementByteSize","elementCapacity","elementStride","flags","Count","meshInfoSize","Runtime","client","platformFeatures","runtimeFlags","assets","nextId","loader","tempTextureBuffer","tempTranscodedBuffer","tempStreamingStateBuffer","streamingStateSize","scratch","debug","normalFormats","ETC1","ASTC","PVRTC1","BC5","textureSupportMask","BC4","infoPtr","serializeEnvironmentInfo","textureSupportFlags","localCacheDirectory","localCacheMaximumByteSize","runtimeCreate","materialInfoSize","textureInfoSize","byteBufferSize","textureFormatsInUse","runtimeDestroy","publicKey","sceneCreatePublic","url","sceneCreateLocal","viewPtr","viewCreate","runtimeUpdate","runtimeNextAssetUnload","unload","_this2","done","loadNext","job","material","bounds","mn","mx","loadPtr","runtimeNextAssetLoad","materialLoadGetInfo","deserializeMaterialInfo","textureObjects","textures","filter","INVALID_USERPOINTER","transparent","textureLoadGetInfo","texture","deserializeTextureInfo","textureGetMipmapLevelByteSize","textureGetMipmapLevelOffset","ensureSize","dataByteSize","serializeByteBuffer","textureLoadGetData","bufferView","formatNeedsTranscoding","format","downsampleAndTranscodeTexture","finish","Failure","allocateBuffers","setBuffers","handlers","timeLimit","startTime","getAssetUnloads","getAssetLoads","asset","BC1","BC3","outputBuffer","newFormat","getUncompressedFromBCFormat","halfFloat","outputSize","getTextureByteSize","success","info2","assign","mipByteSizes","runtimeGetStreamingState","deserializeStreamingState","state","getStreamingState","numResidentTiles","numResidentTilesLoaded","createRuntime","features","initUmbra","config","wasmURL","resolve","reject","path","prefix","endsWith","what","getLibraryInfo","environmentInfoDefaults","sceneCreate","viewUpdateFilter","viewGetCompleted","viewResetRenderables","viewRayQuery","sceneCopyCreate","sceneCopyGetStatus","sceneCopyGetError","sceneCopyDestroy","assetLoadAbortRequested","meshLoadFinishExternal","meshLoadGetData","meshLoadGetSerializedSize","textureLoadGetSerializedSize","textureMetaDataLoadGetData","textureMetaDataGetClassificationCount","textureMetaDataGetClassification","textureMetaDataGetClassificationAmount","sendInternalMessage","wrapNativeFunctions","lib","getPlatformFeatures","gl","formats","supportsSRGB","supportsHalfFloat","extStrings","extNames","allExtensions","getSupportedExtensions","full","shortened","mapping","BC2","names","key","includes","getExtension","srgb","nativeModule","getStreamingInfo","version","Version","copyright","Copyright","buildTime","BuildTime","buildID","BuildId","abortDownloads","values","req","makeFormat","compressed","ThreeFormats","THREE","ETC1_RGB","ASTC_4X4","PVRTC1_RGB4","ShaderPatcher","flipTangent","defines","process","shader","renderer","frag","fragmentShader","ObjectPool","usedList","freeList","allocate","makeFunc","predicate","elem","splice","freeAll","clearFunc","clear","UmbraScene","runtime","scene","sharedState","onDispose","wireframe","onConnected","onConnectionError","onDisconnected","onConnectionChanged","onMeshChanged","isLOD","autoUpdate","materialPool","shaderPatcher","stats","numVisible","numShadowCasters","numCachedMaterials","numAssets","diagnostics","missingNormals","checked","deprecatedMaterial","report","field","umbra","oldState","visibleIDs","update","camera","nativeScene","view","cameraToView","createView","viewLastUseFrame","render","frame","setTransform","matrixWorld","isPBREnabled","flip","determinant","newChildren","children","isUmbraMesh","shadowCasters","proxy","cam","mat","normalMap","metalnessMap","roughnessMap","visible","viewRenderables","materialDesc","geometry","isTransparent","clone","opacity","onBeforeCompile","diffuseMap","Diffuse","metalglossMap","Specular","isTexture","vertexTangents","normalMapType","metalness","roughness","copy","castShadow","receiveShadow","frustumCulled","updateStreamingEvents","scale","getInfo","connected","isConnected","getBounds","getCenter","applyMatrix4","center","updateNetworkEvents","ConnectionError","Connecting","dispose","Umbra","manager","onLoad","onProgress","onError","model","createScene","err","UmbrajsThreeInternal","textureMemoryUsed","meshMemoryUsed","umbrajs","context","memoryLimit","downloadLimit","qualityFactor","onStreamingUpdate","onStreamingComplete","updateTask","assetSizes","lastQualityLowerFrame","umbraScenes","progress","downloadLimitReached","tempVector","dirVector","matrixWorldInverse","projScreenMatrix","cameraWorldPosition","LoadMaterial","prepare","addAsset","Success","UnloadMaterial","removeAsset","LoadTexture","glformat","canFitInMemory","OutOfMemory","adjustQuality","tex","makeTexture","gammaOutput","encoding","colorSpace","Linear","needsUpdate","UnloadTexture","LoadMesh","attribs","components","totalSize","aabb","pos","indexArray","getArray","indices","setIndex","boundingSphere","attrib","meshDescriptor","UnloadMesh","meshDesc","startEventUpdate","interval","stopEventUpdate","setInterval","updateEvents","clearInterval","findLights","umbraScene","parentScene","traverseAncestors","isScene","traverseVisible","pruneOldViews","updateViews","shared","shadowMap","enabled","light","dir","vector3","lightDirections","setFromMatrixPosition","sub","threeCamera","getInverse","multiplyMatrices","projectionMatrix","umbraStreamingPosition","getWorldPosition","umbraQuality","setCamera","list","getVisible","timeBudget","getStats","updateTook","loadAssets","memoryUsed","link","project","createScenePublic","_this3","createSceneWithURL","createSceneLocal","_this4","factor","pixelData","mip","magFilter","minFilter","anisotropy","getStreamingProgress","privateUmbra","deinitUmbra","initWithThreeJS","userConfig"],"mappings":"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"}